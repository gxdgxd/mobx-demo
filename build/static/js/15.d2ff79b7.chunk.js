(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[15],{1491:function(e,t,a){},1528:function(e,t,a){"use strict";a.r(t);a(641);var n,r,l,o=a(418),s=(a(1475),a(1474)),c=(a(235),a(69)),i=(a(1468),a(14)),d=(a(1466),a(1467)),m=(a(637),a(1465)),u=(a(1470),a(1471)),p=a(65),h=a(1489),E=a(1488),b=a(66),g=a(1490),f=(a(1486),a(1485)),C=(a(1463),a(1464)),y=(a(639),a(193)),x=a(0),v=a.n(x),S=a(5),k=a(416),I=a(25),O=a.n(I),j=(a(640),a(1478)),w=(a(638),a(417)),R=(a(1491),m.a,a(236)),M=(a(1472),a(1473)),D=(a(1479),a(1480)),N=Object(k.b)("ExeRecordStore")(n=Object(k.c)(n=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"hideModal",value:function(){this.props.ExeRecordStore.hideResultMessageModal()}},{key:"render",value:function(){var e=this.props,t=e.resultMessageModalVisible,a=e.message;return v.a.createElement("div",{className:"container-bg"},v.a.createElement(M.a,Object(R.a)({destroyOnClose:!0,title:"\u7ed3\u679c\u4fe1\u606f",okText:"\u5173\u95ed",width:"800px",visible:t,onOk:this.hideModal.bind(this),onCancel:this.hideModal.bind(this),cancelText:"\u53d6\u6d88",className:"model"},"width","1100px"),v.a.createElement("pre",null,a)))}}]),t}(x.Component))||n)||n,T=Object(k.b)("ExeRecordStore")(r=Object(k.c)(r=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"hideModal",value:function(){this.props.ExeRecordStore.hideModal()}},{key:"showResultMessageModal",value:function(e){this.props.ExeRecordStore.showResultMessageModal(e)}},{key:"render",value:function(){var e=this.props.ExeRecordStore,t=e.resultMessageModalVisible,a=e.message,n=this.props,r=n.modalVisible,l=n.detailData,o=Object(S.o)(l.caseExeRecords),c="";0==l.status?c=v.a.createElement(w.a,{color:"#f50"},"\u5f85\u6267\u884c"):1==l.status?c=v.a.createElement(w.a,{color:"#2db7f5"},"\u6267\u884c\u4e2d"):2==l.status&&(c=v.a.createElement(w.a,{color:"#87d068"},"\u5df2\u5b8c\u6210"));var m,p={marginBottom:"8px"};return v.a.createElement("div",{className:"container-bg"},v.a.createElement(M.a,Object(R.a)({destroyOnClose:!0,title:"\u6267\u884c\u8be6\u60c5",width:"800px",okText:"\u5173\u95ed",visible:r,onOk:this.hideModal.bind(this),onCancel:this.hideModal.bind(this),cancelText:"\u53d6\u6d88",className:"model"},"width","1100px"),v.a.createElement(D.a,{message:"\u6267\u884c\u60c5\u51b5",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),v.a.createElement(d.a,{gutter:48,style:p},v.a.createElement(u.a,{span:4},"\xa0\u4efb\u52a1\u72b6\u6001\uff1a",c),v.a.createElement(u.a,{span:6},"\u6267\u884c\u65f6\u95f4\uff1a",l.exeTimeStr),v.a.createElement(u.a,{span:7},"\u6267\u884c\u73af\u5883\uff1a",l.env),v.a.createElement(u.a,{span:4},"\u64cd\u4f5c\u4eba\uff1a",l.operatorName)),v.a.createElement(d.a,{gutter:48,style:p},v.a.createElement(u.a,{span:4},"\xa0\u603b\u7528\u4f8b\u6570\uff1a",l.testCaseCount),v.a.createElement(u.a,{span:6},"\u6210\u529f\u6570\uff1a",l.succeedCount),v.a.createElement(u.a,{span:5},"\u5931\u8d25\u6570\uff1a",l.failedCount)),v.a.createElement(D.a,{message:"\u7528\u4f8b\u4fe1\u606f",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),v.a.createElement(s.a,{bordered:!0,columns:(m=this,[{title:"\u7528\u4f8b\u540d\u79f0",dataIndex:"name",key:"name",width:"20%",render:function(e,t){var a=t.testCase,n=a.name.length>16?a.name.substr(0,16)+"...":a.name,r=v.a.createElement("div",null,v.a.createElement("span",null,"\u7528\u4f8bID\uff1a",a.id),v.a.createElement("br",null),v.a.createElement("span",null,"\u7528\u4f8b\u540d\u79f0\uff1a",a.name),v.a.createElement("br",null),v.a.createElement("span",null,"\u6821\u9a8c\u89c4\u5219\uff1a",a.validScript),v.a.createElement("br",null),v.a.createElement("span",null,"\u5165\u53c2\uff1a",a.paramScript),v.a.createElement("br",null),v.a.createElement("span",null,"\u5176\u4ed6\u53c2\u6570\uff1a",a.contextParamScript),v.a.createElement("br",null),v.a.createElement("span",null,"\u63cf\u8ff0\uff1a",a.desc),v.a.createElement("br",null),v.a.createElement("span",null,"\u63a5\u53e3ID\uff1a",a.apiId),v.a.createElement("br",null),v.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",a.testApi.apiClassName),v.a.createElement("br",null),v.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",a.testApi.apiMethodName),v.a.createElement("br",null),v.a.createElement("span",null,"\u63a5\u53e3\u540d\uff1a",a.testApi.name),v.a.createElement("br",null));return v.a.createElement("span",null,v.a.createElement(j.a,{content:r},v.a.createElement("font",{color:"#d2a216"},n)))}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:"7%",render:function(e,t){var a=t.testCase.priority;return v.a.createElement("span",null,a)}},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:"12%",render:function(e,t){var a=t.testCase.creatorName;return v.a.createElement("span",null,a)}},{title:"\u63a5\u53e3ID",dataIndex:"apiId",key:"apiId",width:"7%",render:function(e,t){var a=t.testCase.apiId;return v.a.createElement("span",null,a)}},{title:"\u63a5\u53e3\u540d",dataIndex:"a",key:"a",width:"20%",render:function(e,t){var a=t.testCase.testApi.name;return v.a.createElement("span",null,a)}},{title:"\u6267\u884c\u7ed3\u679c",dataIndex:"succeed",key:"succeed",width:"10%",render:function(e){var t="";return 1==e?(t="\u6267\u884c\u6210\u529f",v.a.createElement("span",null,v.a.createElement(w.a,{color:"#87d068"},t))):0==e?(t="\u6267\u884c\u5931\u8d25",v.a.createElement("span",null,v.a.createElement(w.a,{color:"#f50"},t))):void 0}},{title:"\u4fe1\u606f",dataIndex:"message",key:"message",width:"6%",render:function(e,t){return v.a.createElement("span",null,v.a.createElement("a",{onClick:m.showResultMessageModal.bind(m,t.message)},v.a.createElement(i.a,{type:"message"}))," \xa0")}},{title:"\u64cd\u4f5c",width:"15%",key:"operation",render:function(e,t){var a="/update_api?apiId="+t.testCase.apiId,n="/edit_testcase?apiId="+t.testCase.apiId+"&caseId="+t.testCase.id;return v.a.createElement("span",null,v.a.createElement("a",{href:n,target:"_blank"},"\u67e5\u770b\u7528\u4f8b"),"\xa0",v.a.createElement("a",{href:a,target:"_blank",className:"vLine"}," \u67e5\u770b\u63a5\u53e3"),"\xa0")}}]),dataSource:o}),v.a.createElement(N,{resultMessageModalVisible:t,message:a})))}}]),t}(x.Component))||r)||r,_=y.a.Option,A=C.a.Item,L=f.a.RangePicker,V=Object(k.b)("ExeRecordStore","CommonStore")(l=Object(k.c)(l=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(h.a)(this,Object(E.a)(t).call(this,e))).onChangePage=function(e){a.props.ExeRecordStore.initData(e)},a.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},a.handleSearch=function(){a.props.ExeRecordStore.initData(1)},a.handleCreatorSearch=function(e){e?a.props.CommonStore.getAllCreators(e):a.setState({data:[]})},a.handleCreatorChange=function(e){a.setState({value:e}),a.props.ExeRecordStore.changeTableRequestData("operatorId",e)},a.state={json_str:{}},a}return Object(g.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u6267\u884c\u8bb0\u5f55"}]),this.props.ExeRecordStore.initData(1)}}]),Object(b.a)(t,[{key:"inputChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t.target.value)}},{key:"optionChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t||"")}},{key:"showModal",value:function(e){this.props.ExeRecordStore.getDetailData(e)}},{key:"onDateChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData("exeTimeBefore",t[0]),this.props.ExeRecordStore.changeTableRequestData("finishTimeAfter",t[1])}},{key:"render",value:function(){var e,t=this.props.ExeRecordStore,a=t.dataSource,n=t.modalVisible,r=t.pageNo,l=t.pageSize,p=t.totalCount,h=t.exeDetailData,E=this.props.CommonStore.allCreators,b=a.toJS();return v.a.createElement("div",{className:"container-bg"},v.a.createElement(C.a,{className:"ant-advanced-search-form p-xs pb-0"},v.a.createElement(d.a,{gutter:48},v.a.createElement(u.a,{span:8},v.a.createElement(A,Object.assign({},this.formItemLayout,{label:"\u65f6\u95f4"}),v.a.createElement(L,{ranges:{Today:[O()(),O()()],"This Month":[O()().startOf("month"),O()().endOf("month")]},onChange:this.onDateChange}))),v.a.createElement(u.a,{span:7},v.a.createElement(A,Object.assign({},this.formItemLayout,{label:"\u573a\u666fID"}),v.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u5165\u573a\u666fID",allowClear:!0,onChange:this.inputChange.bind(this,"testSceneId")}))),v.a.createElement(u.a,{span:7},v.a.createElement(A,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u73af\u5883"}),v.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883",allowClear:!0,onChange:this.inputChange.bind(this,"env")})))),v.a.createElement(d.a,{gutter:48},v.a.createElement(u.a,{span:8},v.a.createElement(A,Object.assign({},this.formItemLayout,{label:"\u64cd\u4f5c\u4eba"}),v.a.createElement(y.a,{showSearch:!0,value:this.state.value,placeholder:"\u8bf7\u8f93\u5165\u771f\u540d\u641c\u7d22(\u975e\u82b1\u540d)",style:this.props.style,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,allowClear:!0,onSearch:this.handleCreatorSearch,onChange:this.handleCreatorChange,notFoundContent:null},E.map((function(e){return v.a.createElement(_,{key:e.userId},e.realName)}))))),v.a.createElement(u.a,{span:7},v.a.createElement(A,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u72b6\u6001"}),v.a.createElement(y.a,{placeholder:"\u8bf7\u9009\u62e9\u6267\u884c\u72b6\u6001",allowClear:!0,onChange:this.optionChange.bind(this,"status")},v.a.createElement(_,{value:"0"},"\u5f85\u6267\u884c"),v.a.createElement(_,{value:"1"},"\u6267\u884c\u4e2d"),v.a.createElement(_,{value:"2"},"\u5df2\u5b8c\u6210")))),v.a.createElement(u.a,{span:3},v.a.createElement(c.a,{type:"primary",htmlType:"submit",onClick:this.handleSearch},v.a.createElement(i.a,{type:"search"})," \u641c\u7d22")))),v.a.createElement(d.a,{style:{marginTop:"8px"}},v.a.createElement(s.a,{bordered:!0,columns:(e=this,[{title:"\u573a\u666fID",dataIndex:"testSceneId",key:"testSceneId"},{title:"\u573a\u666f\u540d\u79f0",dataIndex:"testSceneName",key:"testSceneName"},{title:"\u6267\u884c\u65f6\u95f4",dataIndex:"exeTimeStr",key:"exeTimeStr"},{title:"\u73af\u5883",dataIndex:"env",key:"env"},{title:"\u603b\u7528\u4f8b\u6570",dataIndex:"testCaseCount",key:"testCaseCount"},{title:"\u6210\u529f\u6570",dataIndex:"succeedCount",key:"succeedCount"},{title:"\u5931\u8d25\u6570",dataIndex:"failedCount",key:"failedCount",render:function(e){return v.a.createElement("font",{color:e>0?"red":"#696969"},e)}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operatorName",key:"operatorName"},{title:"\u6267\u884c\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){var t="";return"0"==e?(t="\u5f85\u6267\u884c",v.a.createElement("span",null,v.a.createElement(w.a,{color:"#f50"},t))):"1"==e?(t="\u6267\u884c\u4e2d",v.a.createElement("span",null,v.a.createElement(w.a,{color:"#2db7f5"},t))):"2"==e?(t="\u5df2\u5b8c\u6210",v.a.createElement("span",null,v.a.createElement(w.a,{color:"#87d068"},t))):void 0}},{title:"\u64cd\u4f5c",width:"10%",key:"operation",render:function(t,a){return v.a.createElement("div",null,v.a.createElement("span",null,v.a.createElement("a",{onClick:e.showModal.bind(e,a.id)},"\u8be6\u60c5")," \xa0"))}}]),pagination:!1,dataSource:b}),v.a.createElement(o.a,{onChange:this.onChangePage,pageSize:l,current:r,total:p,style:{marginTop:"6px",float:"right"}}),v.a.createElement(T,{modalVisible:n,detailData:h})))}}]),t}(x.Component))||l)||l;t.default=V}}]);
//# sourceMappingURL=15.d2ff79b7.chunk.js.map