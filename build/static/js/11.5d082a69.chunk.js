(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[11],{1488:function(e,a,t){},1491:function(e,a,t){"use strict";t(235);var n,r=t(67),l=(t(1463),t(14)),o=(t(1466),t(1467)),s=(t(1469),t(1470)),i=(t(636),t(1462)),c=t(71),p=t(72),m=t(1486),d=t(1485),u=t(1487),h=(t(637),t(193)),g=(t(1464),t(1465)),b=t(0),E=t.n(b),f=t(415),T=g.a.Item,v=h.a.Option,y=Object(f.b)("TestCaseManagerStore")(n=Object(f.c)(n=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).handleSearch=function(e){e.preventDefault(),t.props.TestCaseManagerStore.initData(1)},t.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},t.state={},t}return Object(u.a)(a,e),Object(p.a)(a,[{key:"inputChange",value:function(e,a){this.props.TestCaseManagerStore.changeTableRequestData(e,a.target.value)}},{key:"optionChange",value:function(e,a){this.props.TestCaseManagerStore.changeTableRequestData(e,a||"")}},{key:"render",value:function(){return E.a.createElement(g.a,{className:"ant-advanced-search-form p-xs pb-0",onSubmit:this.handleSearch},E.a.createElement(o.a,{gutter:48},E.a.createElement(s.a,{span:7},E.a.createElement(T,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3ID"}),E.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u63a5\u53e3ID",onChange:this.inputChange.bind(this,"apiId")}))),E.a.createElement(s.a,{span:7},E.a.createElement(T,Object.assign({},this.formItemLayout,{label:"\u7528\u4f8b\u540d"}),E.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u4f8b\u540d",onChange:this.inputChange.bind(this,"name")}))),E.a.createElement(s.a,{span:7},E.a.createElement(T,Object.assign({},this.formItemLayout,{label:"\u6807\u7b7e"}),E.a.createElement(h.a,{name:"tagId",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u6807\u7b7e\u641c\u7d22",onChange:this.optionChange.bind(this,"tagId")},this.props.allTags.map((function(e){return E.a.createElement(v,{key:e.id,value:e.id},e.value)})))))),E.a.createElement(o.a,{gutter:48},E.a.createElement(s.a,{span:7},E.a.createElement(T,Object.assign({},this.formItemLayout,{label:"\u521b\u5efa\u4eba"}),E.a.createElement(h.a,{name:"creatorId",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u521b\u5efa\u4eba\u641c\u7d22",onChange:this.optionChange.bind(this,"creatorId")},this.props.allCreators.map((function(e){return E.a.createElement(v,{key:e.id,value:e.value},e.value)}))))),E.a.createElement(s.a,{span:7},E.a.createElement(T,Object.assign({},this.formItemLayout,{label:"\u4f18\u5148\u7ea7"}),E.a.createElement(h.a,{placeholder:"\u8bf7\u9009\u62e9\u4f18\u5148\u7ea7\u641c\u7d22",onChange:this.optionChange.bind(this,"priority")},E.a.createElement(v,{value:"1"},"1"),E.a.createElement(v,{value:"2"},"2"),E.a.createElement(v,{value:"3"},"3"),E.a.createElement(v,{value:"4"},"4")))),E.a.createElement(s.a,{span:3,style:{marginTop:"3px"}},E.a.createElement(g.a.Item,null,E.a.createElement(r.a,{type:"primary",htmlType:"submit"},E.a.createElement(l.a,{type:"search"})," \u641c\u7d22")))))}}]),a}(b.Component))||n)||n;a.a=g.a.create()(y)},1493:function(e,a,t){"use strict";var n,r,l=t(17),o=t.n(l),s=t(30),i=(t(1473),t(1474)),c=(t(1463),t(14)),p=t(71),m=t(1486),d=t(1485),u=t(72),h=t(1487),g=(t(1478),t(1481)),b=t(0),E=t.n(b),f=(t(9),t(415)),T=t(236),v=(t(1475),t(1476)),y=(t(1466),t(1467)),C=(t(636),t(1462)),S=(t(1464),t(1465)),M=S.a.Item,I=Object(f.b)("TreeManagerStore")(n=Object(f.c)(n=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).state={},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"okModal",value:function(){var e=this;this.props.form.validateFieldsAndScroll((function(a,t){a||e.props.TreeManagerStore.insertTreeModule()}))}},{key:"hideModal",value:function(){this.props.TreeManagerStore.hideTreeModal()}},{key:"inputChange",value:function(e,a){a.target.value,this.props.TreeManagerStore.changeTableRequestData(e,a.target.value)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.treeModalVisible,n=a.tableRequestData,r=a.modalName;return E.a.createElement(v.a,Object(T.a)({destroyOnClose:!0,title:r,width:"900px",visible:t,onOk:this.okModal.bind(this),onCancel:this.hideModal.bind(this),okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",className:"model"},"width",500),E.a.createElement(S.a,{layout:"inline",className:"ant-advanced-search-form p-xs pb-0"},E.a.createElement(y.a,null,E.a.createElement(M,Object.assign({},this.formItemLayout,{label:"\u6a21\u5757\u540d\u79f0"}),e("name",{initialValue:n.name,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6a21\u5757\u540d\u79f0!"}]})(E.a.createElement(C.a,{style:{width:250},placeholder:"\u8bf7\u586b\u5199\u6a21\u5757\u540d\u79f0!",onChange:this.inputChange.bind(this,"name")}))))))}}]),a}(b.Component))||n)||n,O=S.a.create()(I),j=(t(417),g.a.TreeNode),N=Object(f.b)("TreeManagerStore","TestCaseManagerStore","ApiManagerStore")(r=Object(f.c)(r=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(m.a)(this,Object(d.a)(a).call(this,e))).onSelect=function(e,a){console.log(a);var n=a.node.props.dataRef.appId,r=a.node.props.dataRef.moduleId,l=a.node.props.dataRef.appName,o=a.node.props.dataRef.moduleName,s=t.props.pageType;"case"==s?t.props.TestCaseManagerStore.initData(1,n,r):"api"==s?t.props.ApiManagerStore.initData(1,n,r):"insertApi"==s&&t.props.ApiManagerStore.setTreeParams(n,r,l,o)},t.handleAddTree=function(e,a,n,r){e.stopPropagation(),a&&(console.log(e.target.value),t.props.TreeManagerStore.showTreeModal({moduleName:"\u6dfb\u52a0\u6a21\u5757",parentId:n,appId:r,type:"insert"}))},t.handleEditTree=function(e,a,n,r,l){e.stopPropagation(),n&&t.props.TreeManagerStore.showTreeModal({id:n,moduleName:"\u4fee\u6539\u6a21\u5757",parentIdF:r,appId:l,name:a,type:"update"})},t.handleDeleteTree=function(e){e&&t.props.TreeManagerStore.deleteTree(e)},t.getNodeTitle=function(e,a,n,r,l,o){return E.a.createElement("div",{className:"tree-title"},E.a.createElement("span",null,e),E.a.createElement("div",{className:"tree-parent-div "},E.a.createElement("span",{className:"tree-span",onClick:function(e){return t.handleAddTree(e,a,r,o)}},4!==n&&E.a.createElement(c.a,{type:"plus-circle",theme:"outlined"})),E.a.createElement("span",{className:"tree-span",onClick:function(n){return t.handleEditTree(n,e,a,l,o)}},1!=n&&E.a.createElement(c.a,{type:"form",theme:"outlined"})),E.a.createElement("span",{className:"tree-span"},1!=n&&E.a.createElement(i.a,{title:"\u786e\u5b9a\u5220\u9664\u6b64\u53c2\u6570\u5417\uff1f",onConfirm:function(){return t.handleDeleteTree(a)}},E.a.createElement(c.a,{type:"delete",theme:"outlined"})))))},t.onLoadData=function(){var e=Object(s.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.children){e.next=2;break}return e.abrupt("return");case 2:t.props.TreeManagerStore.getTreeModuleDataSouce(a.props.dataRef);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.renderTreeNodes=function(e,a){return e.map((function(e){var n=t.getNodeTitle(e.title,e.id,a,e.parentId,e.parentIdF,e.appId);return e.children?E.a.createElement(j,{title:n,key:e.id,dataRef:e},t.renderTreeNodes(e.children,a+1)):E.a.createElement(j,Object.assign({},e,{title:n,key:e.id,dataRef:e}))}))},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.TreeManagerStore.getTreeAppDataSouce()}}]),Object(u.a)(a,[{key:"render",value:function(){var e=this.props.TreeManagerStore,a=e.treeAppDataSource,t=e.treeModalVisible,n=e.tableRequestData,r=e.modalName;return E.a.createElement("div",{style:{maxHeight:this.props.maxHeight,"overflow-y":"auto"}},E.a.createElement(g.a,{onSelect:this.onSelect,loadData:this.onLoadData},this.renderTreeNodes(a,1)),E.a.createElement(O,{modalName:r,treeModalVisible:t,tableRequestData:n}))}}]),a}(b.Component))||r)||r;a.a=N},1529:function(e,a,t){"use strict";t.r(a);t(1466);var n,r=t(1467),l=(t(640),t(418)),o=(t(1472),t(1471)),s=(t(1469),t(1470)),i=t(71),c=t(1486),p=t(1485),m=t(72),d=t(1487),u=t(0),h=t.n(u),g=(t(9),t(415)),b=(t(639),t(1477)),E=(t(1496),t(1488),t(1491)),f=t(1493),T=(t(417),t(301)),v=Object(g.b)("TestCaseManagerStore","CommonStore")(n=Object(g.c)(n=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(c.a)(this,Object(p.a)(a).call(this,e))).batchExeCase=function(){t.state.selectedRowKeys.length<=0?T.message.warn("\u8bf7\u5148\u52fe\u9009\u9700\u8981\u6dfb\u52a0\u7684\u63a5\u53e3"):t.props.TestCaseManagerStore.batchExeCase(t.state.selectedRows)},t.onChangePage=function(e){t.props.TestCaseManagerStore.initData(e)},t.state={selectedRowKeys:[],selectedRows:[]},t}return Object(d.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u7528\u4f8b\u7ba1\u7406"}]),this.props.TestCaseManagerStore.initData(1),this.props.CommonStore.getAllTags(),this.props.CommonStore.getAllCreators()}}]),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.props.TestCaseManagerStore,t=a.dataSource,n=a.pageNo,i=a.pageSize,c=a.totalCount,p=t.toJS(),m=this.props.CommonStore,d=m.allTags,u=m.allCreators,g={onChange:function(a,t){console.log("selectedRowKeys: ".concat(a),"selectedRows: ",t),e.setState({selectedRowKeys:a,selectedRows:t})}};return h.a.createElement("div",{className:"container-bg"},h.a.createElement(r.a,null,h.a.createElement(s.a,{span:4},h.a.createElement(f.a,{pageType:"case",maxHeight:"700px"})),h.a.createElement(s.a,{span:20},h.a.createElement(E.a,{allTags:d,allCreators:u}),h.a.createElement(o.a,{bordered:!0,columns:[{title:"\u5e94\u7528",dataIndex:"appName",key:"appName",width:"8%"},{title:"\u7528\u4f8b\u540d\u79f0",dataIndex:"name",key:"name",width:"15%",render:function(e,a){var t=a.name.length>16?a.name.substr(0,16)+"...":a.name,n=h.a.createElement("div",null,h.a.createElement("span",null,"\u7528\u4f8bID\uff1a",a.id),h.a.createElement("br",null),h.a.createElement("span",null,"\u7528\u4f8b\u540d\u79f0\uff1a",a.name),h.a.createElement("br",null),h.a.createElement("span",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",a.editTimeStr),h.a.createElement("br",null),h.a.createElement("span",null,"\u521b\u5efa\u4eba\uff1a",a.creatorName),h.a.createElement("br",null),h.a.createElement("span",null,"\u6821\u9a8c\u89c4\u5219\uff1a",a.validScript),h.a.createElement("br",null),h.a.createElement("span",null,"\u5165\u53c2\uff1a",a.paramScript),h.a.createElement("br",null),h.a.createElement("span",null,"\u5176\u4ed6\u53c2\u6570\uff1a",a.contextParamScript),h.a.createElement("br",null),h.a.createElement("span",null,"\u63cf\u8ff0\uff1a",a.desc),h.a.createElement("br",null),h.a.createElement("span",null,"\u63a5\u53e3ID\uff1a",a.apiId),h.a.createElement("br",null),h.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",a.testApi.apiClassName),h.a.createElement("br",null),h.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",a.testApi.apiMethodName),h.a.createElement("br",null),h.a.createElement("span",null,"\u63a5\u53e3\u540d\uff1a",a.testApi.name),h.a.createElement("br",null));return h.a.createElement("span",null,h.a.createElement(b.a,{content:n},h.a.createElement("font",{color:"#d2a216"},t)))}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:"8%"},{title:"\u63a5\u53e3ID",dataIndex:"apiId",key:"apiId",width:"8%"},{title:"\u65b9\u6cd5\u540d\u79f0",dataIndex:"apiMethodName",key:"apiMethodName",width:"12%",render:function(e,a){var t=a.testApi.apiMethodName.length>12?a.testApi.apiMethodName.substr(0,12)+"...":a.testApi.apiMethodName;return h.a.createElement("span",null,h.a.createElement(b.a,{content:a.testApi.apiMethodName},t))}},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"editTimeStr",key:"editTimeStr",width:"20%"},{title:"\u64cd\u4f5c",width:"23%",key:"operation",render:function(e,a){var t="/edit_testcase?apiId="+a.apiId,n="/update_testcase?apiId="+a.apiId,r="/edit_testcase?apiId="+a.apiId+"&caseId="+a.id;return h.a.createElement("span",null,h.a.createElement("a",{href:r,target:"_blank"},"\u4fee\u6539\u7528\u4f8b"),"\xa0",h.a.createElement("a",{href:n,target:"_blank",className:"vLine"}," \u67e5\u770b\u63a5\u53e3"),"\xa0",h.a.createElement("a",{href:t,target:"_blank",className:"vLine"}," \u8ffd\u52a0\u7528\u4f8b"))}}],pagination:!1,dataSource:p,rowSelection:g}),h.a.createElement(l.a,{onChange:this.onChangePage,pageSize:i,current:n,total:c,style:{marginTop:"6px",float:"right"}}))))}}]),a}(u.Component))||n)||n;a.default=v}}]);
//# sourceMappingURL=11.5d082a69.chunk.js.map