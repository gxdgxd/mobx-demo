(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[15],{1517:function(e,t,a){"use strict";a.r(t);a(235);var n,i=a(67),l=(a(1463),a(14)),r=(a(641),a(159)),s=(a(638),a(416)),u=(a(1462),a(1465)),o=(a(1478),a(1479)),c=a(237),m=a(71),p=a(1486),d=a(1485),h=a(72),g=a(1487),b=(a(636),a(1466)),f=(a(642),a(238)),E=(a(1483),a(1482)),y=(a(637),a(193)),v=(a(1464),a(1467)),I=(a(1472),a(1471)),C=a(0),O=a.n(C),j=(a(9),a(415)),S=(I.a.Column,I.a.ColumnGroup,v.a.Item),V=y.a.Option,w=(E.a.RangePicker,f.a.Group,b.a.TextArea),k=Object(j.b)("ApiManagerStore")(n=Object(j.c)(n=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleClose=function(e){var t=a.props.ApiManagerStore.tags.filter((function(t){return t.id!==e}));console.log(t),a.setState({tags:t})},a.showInput=function(){a.setState({inputVisible:!0},(function(){return a.input.focus()}))},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(c.a)(t),[e])),a.props.ApiManagerStore.insertTag(t[0]),a.setState({inputVisible:!1,inputValue:""})},a.saveInputRef=function(e){return a.input=e},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){e||a.props.ApiManagerStore.updateApi(1)}))},a.state={tags:[],inputVisible:!1,inputValue:""},a}return Object(g.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u63a5\u53e3\u7ba1\u7406"},{name:"\u4fee\u6539\u63a5\u53e3"}]),this.props.ApiManagerStore.getApiDetailData()}}]),Object(h.a)(t,[{key:"inputChange",value:function(e,t){var a={};a[e]=t.target.value,this.setState(a),this.props.ApiManagerStore.changeDetailData(e,t.target.value)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props.ApiManagerStore,n=a.detailData,c=a.tags,m=this.state,p=m.inputVisible,d=m.inputValue;return O.a.createElement("div",{style:{marginLeft:"15px"}},O.a.createElement(v.a,{layout:"inline",className:"ant-advanced-search-form p-xs pb-0",onSubmit:this.handleSubmit},O.a.createElement(o.a,{message:"api\u5305\u4fe1\u606f",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),O.a.createElement(u.a,null,O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"groupId"}),t("groupId",{initialValue:n.groupId,rules:[{required:!0,message:"\u8bf7\u586b\u5199groupId!"}]})(O.a.createElement(b.a,{disabled:!0,style:{width:190},value:n.groupId}))),O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"artifactId"}),t("artifactId",{initialValue:n.artifactId,rules:[{required:!0,message:"\u8bf7\u586b\u5199artifactId!"}]})(O.a.createElement(b.a,{disabled:!0,style:{width:190},value:n.groupId})))),O.a.createElement(o.a,{message:"\u63a5\u53e3\u4fe1\u606f",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),O.a.createElement(u.a,null,O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u5e94\u7528\u540d"}),t("version",{initialValue:n.version,rules:[{required:!0,message:"\u8bf7\u586b\u5199version!"}]})(O.a.createElement(y.a,{style:{width:145},showSearch:!0},O.a.createElement(V,{key:"1",value:"1"},"1"))))),O.a.createElement(u.a,null,O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3\u8def\u5f84"}),t("apiClassName",{initialValue:n.apiClassName,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u63a5\u53e3\u8def\u5f84!"}]})(O.a.createElement(b.a,{disabled:!0,style:{width:823}})))),O.a.createElement(u.a,null,O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u65b9\u6cd5\u540d"}),t("apiMethodName",{initialValue:n.apiMethodName,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u65b9\u6cd5\u540d!"}]})(O.a.createElement(b.a,{disabled:!0,style:{width:375}}))),O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3\u540d"}),t("name",{initialValue:n.name,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u63a5\u53e3\u540d!"}]})(O.a.createElement(b.a,{style:{width:378},onChange:this.inputChange.bind(this,"name")})))),O.a.createElement(u.a,null,O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u521b\u5efa\u4eba"}),t("creatorName",{initialValue:n.creatorName,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u521b\u5efa\u4eba!"}]})(O.a.createElement(b.a,{disabled:!0,style:{width:145}}))),O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u6807\u7b7e"}),O.a.createElement("div",null,c.map((function(t,a){var n=t.length>20,i=O.a.createElement(s.a,{key:t.id,closable:!0,onClose:function(){return e.handleClose(t.id)}},n?"".concat(t.value.slice(0,20),"..."):t.value);return n?O.a.createElement(r.a,{title:t.value,key:t.id},i):i})),p&&O.a.createElement(b.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:d,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!p&&O.a.createElement(s.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},O.a.createElement(l.a,{type:"plus"})," New Tag")))),O.a.createElement(u.a,null,O.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u63cf\u8ff0"}),t("desc",{initialValue:n.desc,rules:[{required:!1,message:"\u8bf7\u586b\u5199\u63cf\u8ff0!"}]})(O.a.createElement(w,{rows:3,style:{width:852},value:n.desc,onChange:this.inputChange.bind(this,"desc")})))),O.a.createElement(u.a,null,O.a.createElement(v.a.Item,null,O.a.createElement(i.a,{type:"primary",htmlType:"submit"},"\u4fee\u6539")))))}}]),t}(C.Component))||n)||n;t.default=v.a.create()(k)}}]);
//# sourceMappingURL=15.7c99cb81.chunk.js.map