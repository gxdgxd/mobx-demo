(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[10],{1488:function(e,a,t){},1490:function(e,a,t){"use strict";var n,r,l=t(16),o=t.n(l),i=t(29),c=(t(1475),t(1476)),s=(t(1466),t(14)),p=t(65),u=t(1486),d=t(1485),m=t(66),h=t(1487),g=(t(1480),t(1481)),f=t(0),b=t.n(f),E=(t(5),t(415)),y=t(236),v=(t(1471),t(1472)),C=(t(1465),t(1467)),O=(t(636),t(1463)),S=(t(1462),t(1464)),N=S.a.Item,M=Object(E.b)("TreeManagerStore")(n=Object(E.c)(n=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"okModal",value:function(){var e=this;this.props.form.validateFieldsAndScroll((function(a,t){a||e.props.TreeManagerStore.insertTreeModule()}))}},{key:"hideModal",value:function(){this.props.TreeManagerStore.hideTreeModal()}},{key:"inputChange",value:function(e,a){a.target.value,this.props.TreeManagerStore.changeTableRequestData(e,a.target.value)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.treeModalVisible,n=a.tableRequestData,r=a.modalName;return b.a.createElement(v.a,Object(y.a)({destroyOnClose:!0,title:r,width:"900px",visible:t,onOk:this.okModal.bind(this),onCancel:this.hideModal.bind(this),okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",className:"model"},"width",500),b.a.createElement(S.a,{layout:"inline",className:"ant-advanced-search-form p-xs pb-0"},b.a.createElement(C.a,null,b.a.createElement(N,Object.assign({},this.formItemLayout,{label:"\u6a21\u5757\u540d\u79f0"}),e("name",{initialValue:n.name,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6a21\u5757\u540d\u79f0!"}]})(b.a.createElement(O.a,{style:{width:250},placeholder:"\u8bf7\u586b\u5199\u6a21\u5757\u540d\u79f0!",onChange:this.inputChange.bind(this,"name")}))))))}}]),a}(f.Component))||n)||n,j=S.a.create()(M),T=(t(418),g.a.TreeNode),k=Object(E.b)("TreeManagerStore","TestCaseManagerStore","ApiManagerStore")(r=Object(E.c)(r=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).onSelect=function(e,a){console.log(a);var n=a.node.props.dataRef.appId,r=a.node.props.dataRef.moduleId,l=a.node.props.dataRef.appName,o=a.node.props.dataRef.moduleName,i=t.props.pageType;"case"==i?t.props.TestCaseManagerStore.initData(1,n,r):"api"==i?t.props.ApiManagerStore.initData(1,n,r):"insertApi"==i?t.props.ApiManagerStore.setTreeParams(n,r,l,o):"updateApi"==i&&t.props.ApiManagerStore.setTreeParams(n,r,l,o)},t.handleAddTree=function(e,a,n,r){e.stopPropagation(),a&&(console.log(e.target.value),t.props.TreeManagerStore.showTreeModal({moduleName:"\u6dfb\u52a0\u6a21\u5757",parentId:n,appId:r,type:"insert"}))},t.handleEditTree=function(e,a,n,r,l){e.stopPropagation(),n&&t.props.TreeManagerStore.showTreeModal({id:n,moduleName:"\u4fee\u6539\u6a21\u5757",parentIdF:r,appId:l,name:a,type:"update"})},t.handleDeleteTree=function(e,a,n){e&&t.props.TreeManagerStore.deleteTree(e,a,n)},t.getNodeTitle=function(e,a,n,r,l,o){return b.a.createElement("div",{className:"tree-title"},b.a.createElement("span",null,e),b.a.createElement("div",{className:"tree-parent-div "},b.a.createElement("span",{className:"tree-span",onClick:function(e){return t.handleAddTree(e,a,r,o)}},4!==n&&b.a.createElement(s.a,{type:"plus-circle",theme:"outlined"})),b.a.createElement("span",{className:"tree-span",onClick:function(n){return t.handleEditTree(n,e,a,l,o)}},1!=n&&b.a.createElement(s.a,{type:"form",theme:"outlined"})),b.a.createElement("span",{className:"tree-span"},1!=n&&b.a.createElement(c.a,{title:"\u786e\u5b9a\u5220\u9664\u6b64\u53c2\u6570\u5417\uff1f",onConfirm:function(){return t.handleDeleteTree(a,o,r)}},b.a.createElement(s.a,{type:"delete",theme:"outlined"})))))},t.onLoadData=function(){var e=Object(i.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.props.children){e.next=2;break}return e.abrupt("return");case 2:t.props.TreeManagerStore.getTreeModuleDataSouce(a.props.dataRef);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.renderTreeNodes=function(e,a){return e.map((function(e){var n=t.getNodeTitle(e.title,e.id,a,e.parentId,e.parentIdF,e.appId);return e.children?b.a.createElement(T,{title:n,key:e.id,dataRef:e},t.renderTreeNodes(e.children,a+1)):b.a.createElement(T,Object.assign({},e,{title:n,key:e.id,dataRef:e}))}))},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.props.TreeManagerStore.getTreeAppDataSouce()}}]),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.TreeManagerStore,a=e.treeAppDataSource,t=e.treeModalVisible,n=e.tableRequestData,r=e.modalName;return b.a.createElement("div",{style:{maxHeight:this.props.maxHeight,"overflow-y":"auto"}},b.a.createElement(g.a,{onSelect:this.onSelect,loadData:this.onLoadData},this.renderTreeNodes(a,1)),b.a.createElement(j,{modalName:r,treeModalVisible:t,tableRequestData:n}))}}]),a}(f.Component))||r)||r;a.a=k},1495:function(e,a,t){"use strict";t.d(a,"a",(function(){return d})),t.d(a,"b",(function(){return m}));t(1475);var n=t(1476),r=t(236),l=(t(641),t(158)),o=(t(637),t(416)),i=(t(639),t(1477)),c=t(0),s=t.n(c);t(1488);function p(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?p(t,!0).forEach((function(a){Object(r.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var d=function(e){return[{title:"\u63a5\u53e3ID",dataIndex:"id",key:"id",width:80,fixed:"left"},{title:"\u63a5\u53e3\u540d",dataIndex:"name",key:"name",width:180,render:function(e,a){var t=a.name.length>20?a.name.substr(0,20)+"...":a.name;return s.a.createElement("span",null,s.a.createElement(i.a,{content:a.name},t))}},{title:"\u65b9\u6cd5\u540d",dataIndex:"apiMethodName",key:"apiMethodName",width:150,render:function(e,a){var t=a.apiMethodName.length>12?a.apiMethodName.substr(0,12)+"...":a.apiMethodName,n=s.a.createElement("div",null,s.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",a.apiMethodName),s.a.createElement("br",null),s.a.createElement("span",null,"\u521b\u5efa\u4eba\uff1a",a.creatorName),s.a.createElement("br",null),s.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",a.apiClassName),s.a.createElement("br",null),s.a.createElement("span",null,"\u66f4\u65b0\u65f6\u95f4\uff1a",a.editTimeStr),s.a.createElement("br",null),s.a.createElement("span",null,"\u5e94\u7528\uff1a",a.appName),s.a.createElement("br",null),s.a.createElement("span",null,"\u6a21\u5757\uff1a",a.moduleName));return s.a.createElement("span",null,s.a.createElement(i.a,{content:n},s.a.createElement("font",{color:"#d2a216"},t)))}},{title:"\u5e94\u7528",dataIndex:"appName",key:"appName",width:100},{title:"\u6a21\u5757",dataIndex:"moduleName",key:"moduleName",width:150},{title:"groupId",dataIndex:"groupId",key:"groupId",width:150},{title:"artifactId",dataIndex:"artifactId",key:"artifactId",width:120},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"editTimeStr",key:"editTimeStr",width:180},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:150},{title:"\u6807\u7b7e",dataIndex:"tags",key:"tags",width:150,render:function(e,a){return s.a.createElement("span",null,a.tags.map((function(e,a){var t=e.length>20,n=s.a.createElement(o.a,{key:e.id,color:"purple"},t?"".concat(e.value.slice(0,20),"..."):e.value);return t?s.a.createElement(l.a,{title:e.value,key:e.id},n):n})))}},{title:"\u64cd\u4f5c",width:230,key:"operation",fixed:"right",render:function(e,a){var t="/update_api?apiId="+a.id,n="/testcase_manager?apiId="+a.id,r="/edit_testcase?apiId="+a.id;return s.a.createElement("span",null,s.a.createElement("a",{href:t,target:"_blank"},"\u4fee\u6539\u63a5\u53e3"),"\xa0",s.a.createElement("a",{href:n,target:"_blank",className:"vLine"}," \u67e5\u770b\u7528\u4f8b"),"\xa0",s.a.createElement("a",{href:r,target:"_blank",className:"vLine"}," \u6dfb\u52a0\u7528\u4f8b"))}}]},m=function(e){return[u({title:"\u63a5\u53e3\u8def\u5f84",dataIndex:"apiClassName",key:"apiClassName",width:"27%"},e.getColumnSearchProps("apiClassName"),{render:function(e,a){var t=a.apiClassName.length>30?a.apiClassName.substr(0,30)+"...":a.apiClassName;return s.a.createElement("span",null,s.a.createElement(i.a,{content:a.apiClassName},t))}}),u({title:"\u65b9\u6cd5\u540d",dataIndex:"apiMethodName",key:"apiMethodName",width:"20%"},e.getColumnSearchProps("apiMethodName"),{render:function(e,a){var t=a.apiMethodName.length>20?a.apiMethodName.substr(0,20)+"...":a.apiMethodName;return s.a.createElement("span",null,s.a.createElement(i.a,{content:a.apiMethodName},t))}}),{title:"\u63a5\u53e3\u540d",dataIndex:"name",key:"name",width:"17%",editable:!0,render:function(e,a){return null!=a.name?s.a.createElement("span",null,a.name):s.a.createElement("span",null,s.a.createElement("font",{color:"orange"},"\u65e0"))}},{title:"\u63cf\u8ff0",dataIndex:"desc",key:"desc",width:"17%",editable:!0,render:function(e,a){return null!=a.desc?s.a.createElement("span",null,a.desc):s.a.createElement("span",null,s.a.createElement("font",{color:"orange"},"\u65e0"))}},{title:"\u64cd\u4f5c",width:"7%",key:"operation",render:function(a,t){return s.a.createElement("div",null,s.a.createElement("span",null,s.a.createElement(n.a,{title:"\u786e\u5b9a\u6dfb\u52a0\u6b64\u63a5\u53e3\u5417\uff1f",onConfirm:function(){return e.insertApi(t)}},s.a.createElement("a",{href:"#"},"\u6dfb\u52a0"))))}}]}},1531:function(e,a,t){"use strict";t.r(a);t(1465);var n,r,l=t(1467),o=(t(640),t(417)),i=(t(1474),t(1473)),c=(t(1469),t(1470)),s=t(65),p=t(1486),u=t(1485),d=t(66),m=t(1487),h=t(0),g=t.n(h),f=(t(5),t(415)),b=t(1495),E=(t(235),t(69)),y=(t(1466),t(14)),v=(t(636),t(1463)),C=(t(638),t(193)),O=(t(1462),t(1464)),S=O.a.Item,N=C.a.Option,M=Object(f.b)("ApiManagerStore","CommonStore")(n=Object(f.c)(n=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(p.a)(this,Object(u.a)(a).call(this,e))).handleCreatorSearch=function(e){e?t.props.CommonStore.getAllCreators(e):t.setState({data:[]})},t.handleCreatorChange=function(e){t.setState({value:e}),t.props.ApiManagerStore.changeTableRequestData("creatorId",e)},t.handleSubmit=function(e){e.preventDefault(),t.props.ApiManagerStore.initData(1)},t.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},t.state={data:[],value:void 0},t}return Object(m.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"inputChange",value:function(e,a){this.props.ApiManagerStore.changeTableRequestData(e,a.target.value)}},{key:"optionChange",value:function(e,a){this.props.ApiManagerStore.changeTableRequestData(e,a||"")}},{key:"render",value:function(){var e=this.props.CommonStore.allCreators;return g.a.createElement(O.a,{className:"ant-advanced-search-form p-xs pb-0",onSubmit:this.handleSubmit},g.a.createElement(l.a,{gutter:48},g.a.createElement(c.a,{span:7},g.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3ID"}),g.a.createElement(v.a,{placeholder:"\u8bf7\u8f93\u5165\u63a5\u53e3ID",onChange:this.inputChange.bind(this,"id"),allowClear:!0}))),g.a.createElement(c.a,{span:7},g.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3\u540d"}),g.a.createElement(v.a,{placeholder:"\u8bf7\u8f93\u5165\u63a5\u53e3\u540d",onChange:this.inputChange.bind(this,"name")}))),g.a.createElement(c.a,{span:7},g.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u65b9\u6cd5\u540d"}),g.a.createElement(v.a,{placeholder:"\u8bf7\u8f93\u5165\u65b9\u6cd5\u540d",onChange:this.inputChange.bind(this,"apiMethodName")})))),g.a.createElement(l.a,{gutter:48},g.a.createElement(c.a,{span:7},g.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u521b\u5efa\u4eba"}),g.a.createElement(C.a,{showSearch:!0,value:this.state.value,placeholder:"\u8bf7\u8f93\u5165\u771f\u540d\u641c\u7d22(\u975e\u82b1\u540d)",style:this.props.style,defaultActiveFirstOption:!1,showArrow:!1,allowClear:!0,filterOption:!1,onSearch:this.handleCreatorSearch,onChange:this.handleCreatorChange,notFoundContent:null},e.map((function(e){return g.a.createElement(N,{key:e.userId},e.realName)}))))),g.a.createElement(c.a,{span:7},g.a.createElement(S,Object.assign({},this.formItemLayout,{label:"\u6807\u7b7e"}),g.a.createElement(C.a,{name:"tagId",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u6807\u7b7e\u641c\u7d22",onChange:this.optionChange.bind(this,"tagId")},this.props.allTags.map((function(e){return g.a.createElement(N,{key:e.id,value:e.id},e.value)}))))),g.a.createElement(c.a,{span:3},g.a.createElement(O.a.Item,null,g.a.createElement(E.a,{type:"primary",htmlType:"submit"},g.a.createElement(y.a,{type:"search"})," \u641c\u7d22"))),g.a.createElement(c.a,{span:3},g.a.createElement(O.a.Item,null,g.a.createElement(E.a,{type:"primary",onClick:function(){window.open("/insert_api")}},g.a.createElement(y.a,{type:"plus"})," \u6dfb\u52a0\u63a5\u53e3")))))}}]),a}(h.Component))||n)||n,j=O.a.create()(M),T=t(1490),k=(t(1488),Object(f.b)("ApiManagerStore","CommonStore")(r=Object(f.c)(r=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(p.a)(this,Object(u.a)(a).call(this,e))).onChangePage=function(e){console.log(e),t.props.ApiManagerStore.initData(e)},t.state={json_str:{},expandedKeys:[],autoExpandParent:!0,selectedKeys:[]},t}return Object(m.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u63a5\u53e3\u7ba1\u7406"}]),this.props.ApiManagerStore.initData(1),this.props.CommonStore.getAllTags()}}]),Object(d.a)(a,[{key:"inputChange",value:function(e,a){var t={};t[e]=a.target.value,this.setState(t)}},{key:"render",value:function(){var e=this.props.ApiManagerStore,a=e.dataSource,t=e.pageNo,n=e.pageSize,r=e.totalCount,s=this.props.CommonStore,p=s.allTags,u=s.allCreators,d=a.toJS();return g.a.createElement("div",{className:"container-bg"},g.a.createElement(l.a,null,g.a.createElement(c.a,{span:4},g.a.createElement(T.a,{pageType:"api",maxHeight:"700px"})),g.a.createElement(c.a,{span:20},g.a.createElement(j,{allTags:p,allCreators:u}),g.a.createElement(i.a,{bordered:!0,columns:Object(b.a)(this),scroll:{x:1680,y:600},dataSource:d,pagination:!1}),g.a.createElement(o.a,{onChange:this.onChangePage,pageSize:n,current:t,total:r,style:{marginTop:"6px",float:"right"}}))))}}]),a}(h.Component))||r)||r);a.default=k}}]);
//# sourceMappingURL=10.f7822240.chunk.js.map