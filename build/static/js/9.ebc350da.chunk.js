(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[9],{1497:function(e,a,t){},1499:function(e,a,t){"use strict";t(1476);var _,r,n=t(1477),s=(t(1466),t(13)),l=t(65),o=t(1495),i=t(1494),c=t(66),d=t(1496),p=(t(1483),t(1484)),u=t(0),E=t.n(u),m=(t(4),t(416)),h=t(237),D=(t(1474),t(1475)),O=(t(1469),t(1470)),b=(t(637),t(1465)),M=(t(1467),t(1468)),f=M.a.Item,C=Object(m.b)("TreeManagerStore")(_=Object(m.c)(_=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(i.a)(a).call(this,e))).state={},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"okModal",value:function(){var e=this;this.props.form.validateFieldsAndScroll((function(a,t){a||e.props.TreeManagerStore.insertTreeModule()}))}},{key:"hideModal",value:function(){this.props.TreeManagerStore.hideTreeModal()}},{key:"inputChange",value:function(e,a){a.target.value,this.props.TreeManagerStore.changeTableRequestData(e,a.target.value)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.props,t=a.treeModalVisible,_=a.tableRequestData,r=a.modalName;return E.a.createElement(D.a,Object(h.a)({destroyOnClose:!0,title:r,width:"900px",visible:t,onOk:this.okModal.bind(this),onCancel:this.hideModal.bind(this),okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",className:"model"},"width",500),E.a.createElement(M.a,{layout:"inline",className:"ant-advanced-search-form p-xs pb-0"},E.a.createElement(O.a,null,E.a.createElement(f,Object.assign({},this.formItemLayout,{label:"\u6a21\u5757\u540d\u79f0"}),e("name",{initialValue:_.name,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6a21\u5757\u540d\u79f0!"}]})(E.a.createElement(b.a,{style:{width:250},placeholder:"\u8bf7\u586b\u5199\u6a21\u5757\u540d\u79f0!",onChange:this.inputChange.bind(this,"name")}))))))}}]),a}(u.Component))||_)||_,P=M.a.create()(C),g=(t(419),p.a.TreeNode),T=Object(m.b)("TreeManagerStore","TestCaseManagerStore","ApiManagerStore")(r=Object(m.c)(r=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(i.a)(a).call(this,e))).onNodeSelect=function(e,a){console.log(e,a.node.props);var _="",r="",n="",s="";1==a.node.props.level?(_=e[0],n=a.node.props.title):(_=a.node.props.appId,r=a.node.props.moduleId,n=a.node.props.appName,s=a.node.props.moduleName),console.log("appid",_,"moduleId",r,"appName",n,"moduleName",s);var l=t.props.pageType;"case"==l?t.props.TestCaseManagerStore.initData(1,_,r):"api"==l?t.props.ApiManagerStore.initData(1,_,r):"insertApi"==l?t.props.ApiManagerStore.setTreeParams(_,r,n,s):"updateApi"==l&&t.props.ApiManagerStore.setTreeParams(_,r,n,s)},t.onExpand=function(e){t.setState({expandedKeys:e})},t.handleAddTree=function(e,a){e.stopPropagation(),a.id&&(console.log(e.target.value),t.props.TreeManagerStore.showTreeModal({moduleName:"\u6dfb\u52a0\u6a21\u5757",type:"insert",item:a}))},t.handleEditTree=function(e,a){e.stopPropagation(),a.id&&t.props.TreeManagerStore.showTreeModal({moduleName:"\u4fee\u6539\u6a21\u5757",type:"update",item:a})},t.handleDeleteTree=function(e){e.id&&t.props.TreeManagerStore.deleteTree(e)},t.getNodeTitle=function(e,a,_,r){return E.a.createElement("div",{className:"tree-title"},E.a.createElement("span",null,e),E.a.createElement("div",{className:"tree-parent-div "},E.a.createElement("span",{className:"tree-span",onClick:function(e){return t.handleAddTree(e,r)}},5!==_&&E.a.createElement(s.a,{type:"plus-circle",theme:"outlined"})),E.a.createElement("span",{className:"tree-span",onClick:function(e){return t.handleEditTree(e,r)}},1!=_&&E.a.createElement(s.a,{type:"form",theme:"outlined"})),E.a.createElement("span",{className:"tree-span"},1!=_&&E.a.createElement(n.a,{title:"\u786e\u5b9a\u5220\u9664\u6b64\u53c2\u6570\u5417\uff1f",onConfirm:function(){return t.handleDeleteTree(r)}},E.a.createElement(s.a,{type:"delete",theme:"outlined"})))))},t.renderTree=function(e,a,_){return e&&e.map((function(e){var r=t.getNodeTitle(e.name,e.id,a,_);return e.modules&&e.modules.length>0?E.a.createElement(g,{title:r,key:e.id,level:a,appId:e.appId,moduleId:e.id,appName:e.appName,moduleName:e.name},t.renderTree(e.modules,a+1,e.id)):E.a.createElement(g,{title:r,key:e.id,level:a,appId:e.appId,appName:e.appName,moduleId:e.id,moduleName:e.name})}))},t.state={expandedKeys:[]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.TreeManagerStore.getTreeData()}}]),Object(c.a)(a,[{key:"render",value:function(){var e=this.props.TreeManagerStore,a=e.treeAppDataSource,t=e.treeModalVisible,_=e.tableRequestData,r=e.modalName;return E.a.createElement("div",{style:{maxHeight:this.props.maxHeight,"overflow-y":"auto"}},E.a.createElement(p.a,{expandedKeys:this.state.expandedKeys,onSelect:this.onNodeSelect,onExpand:this.onExpand},this.renderTree(a,1)),E.a.createElement(P,{modalName:r,treeModalVisible:t,tableRequestData:_}))}}]),a}(u.Component))||r)||r;a.a=T},1501:function(e,a,t){"use strict";t(236);var _,r=t(70),n=(t(1466),t(13)),s=(t(1469),t(1470)),l=(t(1472),t(1473)),o=(t(637),t(1465)),i=t(65),c=t(66),d=t(1495),p=t(1494),u=t(1496),E=(t(639),t(194)),m=(t(1467),t(1468)),h=t(0),D=t.n(h),O=t(416),b=m.a.Item,M=E.a.Option,f=Object(O.b)("TestCaseManagerStore","CommonStore")(_=Object(O.c)(_=function(e){function a(e){var t;return Object(i.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).handleSearch=function(){t.props.TestCaseManagerStore.initData(1)},t.handleCreatorSearch=function(e){e?t.props.CommonStore.getAllCreators(e):t.setState({data:[]})},t.handleCreatorChange=function(e){t.setState({value:e}),t.props.TestCaseManagerStore.changeTableRequestData("creatorId",e)},t.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},t.state={data:[],value:void 0},t}return Object(u.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.CommonStore.getAllTags()}},{key:"inputChange",value:function(e,a){this.props.TestCaseManagerStore.changeTableRequestData(e,a.target.value)}},{key:"optionChange",value:function(e,a){this.props.TestCaseManagerStore.changeTableRequestData(e,a||"")}},{key:"render",value:function(){var e=this.props.CommonStore,a=e.allTags,t=e.allCreators;return D.a.createElement(m.a,{className:"ant-advanced-search-form p-xs pb-0"},D.a.createElement(s.a,{gutter:48},D.a.createElement(l.a,{span:7},D.a.createElement(b,Object.assign({},this.formItemLayout,{label:"\u7528\u4f8b\u540d"}),D.a.createElement(o.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u4f8b\u540d",allowClear:!0,onChange:this.inputChange.bind(this,"name")}))),D.a.createElement(l.a,{span:7},D.a.createElement(b,Object.assign({},this.formItemLayout,{label:"\u6807\u7b7e"}),D.a.createElement(E.a,{name:"tagId",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u6807\u7b7e\u641c\u7d22",onChange:this.optionChange.bind(this,"tagId")},a.map((function(e){return D.a.createElement(M,{key:e.id,value:e.id},e.value)}))))),D.a.createElement(l.a,{span:7},D.a.createElement(b,Object.assign({},this.formItemLayout,{label:"\u521b\u5efa\u4eba"}),D.a.createElement(E.a,{showSearch:!0,allowClear:!0,value:this.state.value,placeholder:"\u8bf7\u8f93\u5165\u771f\u540d\u641c\u7d22(\u975e\u82b1\u540d)",style:this.props.style,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleCreatorSearch,onChange:this.handleCreatorChange,notFoundContent:null},t.map((function(e){return D.a.createElement(M,{key:e.userId},e.realName)})))))),D.a.createElement(s.a,{gutter:48},D.a.createElement(l.a,{span:7},D.a.createElement(b,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3ID"}),D.a.createElement(o.a,{placeholder:"\u8bf7\u8f93\u5165\u63a5\u53e3ID",allowClear:!0,onChange:this.inputChange.bind(this,"apiId")}))),D.a.createElement(l.a,{span:7},D.a.createElement(b,Object.assign({},this.formItemLayout,{label:"\u4f18\u5148\u7ea7"}),D.a.createElement(E.a,{placeholder:"\u8bf7\u9009\u62e9\u4f18\u5148\u7ea7\u641c\u7d22",allowClear:!0,onChange:this.optionChange.bind(this,"priority")},D.a.createElement(M,{value:"0"},"0"),D.a.createElement(M,{value:"1"},"1"),D.a.createElement(M,{value:"2"},"2"),D.a.createElement(M,{value:"3"},"3")))),D.a.createElement(l.a,{span:3,style:{marginTop:"3px"}},D.a.createElement(r.a,{type:"primary",onClick:this.handleSearch},D.a.createElement(n.a,{type:"search"})," \u641c\u7d22"))))}}]),a}(h.Component))||_)||_;a.a=m.a.create()(f)},1507:function(module,__webpack_exports__,__webpack_require__){"use strict";var antd_es_form_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1467),antd_es_form__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1468),antd_es_drawer_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1485),antd_es_drawer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1486),antd_es_alert_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1481),antd_es_alert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1482),antd_es_row_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1469),antd_es_row__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1470),antd_es_col_style__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(1472),antd_es_col__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1473),antd_es_tag_style__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(638),antd_es_tag__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(417),_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(65),_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(66),_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1495),_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1494),_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1496),antd_es_input_style__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(637),antd_es_input__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(1465),react__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_19__),mobx_react__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(416),react_json_view__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1505),react_json_view__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_21__),mobx_lib_mobx__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(420),mobx_lib_mobx__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(mobx_lib_mobx__WEBPACK_IMPORTED_MODULE_22__),antd_lib_index__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(238),antd_lib_index__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(antd_lib_index__WEBPACK_IMPORTED_MODULE_23__),_dec,_class,_temp,TextArea=antd_es_input__WEBPACK_IMPORTED_MODULE_18__.a.TextArea,ExeCaseDrawer=(_dec=Object(mobx_react__WEBPACK_IMPORTED_MODULE_20__.b)("TestCaseManagerStore"),_dec(_class=Object(mobx_react__WEBPACK_IMPORTED_MODULE_20__.c)((_temp=function(_Component){function ExeCaseDrawer(e){var a;return Object(_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_12__.a)(this,ExeCaseDrawer),(a=Object(_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_14__.a)(this,Object(_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_15__.a)(ExeCaseDrawer).call(this,e))).onClose=function(){a.props.TestCaseManagerStore.hideCaseDrawer()},a.state={visible:!1},a}return Object(_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_16__.a)(ExeCaseDrawer,_Component),Object(_alidata_server_jenkins_workspace_fed_feci_build_dev_node_0_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_13__.a)(ExeCaseDrawer,[{key:"handleCopy",value:function(e){antd_lib_index__WEBPACK_IMPORTED_MODULE_23__.message.success("\u590d\u5236\u6210\u529f")}},{key:"render",value:function render(){var _this$props=this.props,exeDetailData=_this$props.exeDetailData,drawerVisible=_this$props.drawerVisible,caseData=Object(mobx_lib_mobx__WEBPACK_IMPORTED_MODULE_22__.toJS)(exeDetailData.caseExeRecords),statusStr="";0==exeDetailData.status?statusStr=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_11__.a,{color:"#f50"},"\u5f85\u6267\u884c"):1==exeDetailData.status?statusStr=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_11__.a,{color:"#2db7f5"},"\u6267\u884c\u4e2d"):2==exeDetailData.status&&(statusStr=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_11__.a,{color:"#87d068"},"\u5df2\u5b8c\u6210"));var resultStatus="";"undefined"!=typeof caseData&&(1==caseData[0].succeed?resultStatus=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_11__.a,{color:"#87d068"},"\u6267\u884c\u6210\u529f"):0==caseData[0].succeed&&(resultStatus=react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_11__.a,{color:"#f50"},"\u6267\u884c\u5931\u8d25"))),console.log("undefined"==typeof caseData?"":caseData[0].testCase);var style={marginBottom:"8px"};return react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_drawer__WEBPACK_IMPORTED_MODULE_3__.a,{title:"\u6267\u884c\u7ed3\u679c",width:720,placement:"right",onClose:this.onClose,visible:drawerVisible},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_7__.a,{gutter:48,style:style},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_9__.a,{span:13},"undefined"==typeof caseData?"":caseData[0].testCase.name),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_9__.a,{span:6},"\u4efb\u52a1\u72b6\u6001\uff1a",statusStr)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_7__.a,{gutter:48,style:style},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_9__.a,{span:13},"\u64cd\u4f5c\u4eba\uff1a",exeDetailData.operatorName),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_9__.a,{span:10},"\u6267\u884c\u73af\u5883\uff1a",exeDetailData.env)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_7__.a,{gutter:48,style:style},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_9__.a,{span:13},"\u6267\u884c\u65f6\u95f4\uff1a",exeDetailData.exeTimeStr),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_9__.a,{span:8},"\u6267\u884c\u7ed3\u679c\uff1a",resultStatus)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_row__WEBPACK_IMPORTED_MODULE_7__.a,{gutter:48,style:style},react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_col__WEBPACK_IMPORTED_MODULE_9__.a,{span:13},"\u63a5\u53e3\u540d\uff1a ","undefined"==typeof caseData?"":caseData[0].testCase.testApi.name)),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_alert__WEBPACK_IMPORTED_MODULE_5__.a,{message:"\u6821\u9a8c\u7ed3\u679c",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement("pre",null,"undefined"==typeof caseData?"":null==caseData[0].message?"\u6682\u65e0\u7ed3\u679c":caseData[0].message),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_alert__WEBPACK_IMPORTED_MODULE_5__.a,{message:"\u63a5\u53e3\u5b9e\u9645\u8fd4\u56de\u7ed3\u679c",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(react_json_view__WEBPACK_IMPORTED_MODULE_21___default.a,{src:"undefined"==typeof caseData?"":eval("("+caseData[0].sampleResult+")"),name:null,enableClipboard:this.handleCopy,style:{border:"1px solid #ccc",height:"153px",marginBottom:"5px",maxHeight:"153px","overflow-y":"auto"}}),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_alert__WEBPACK_IMPORTED_MODULE_5__.a,{message:"\u8bf7\u6c42\u5165\u53c2",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(TextArea,{rows:5,style:{width:"670px",marginBottom:"6px"},value:"undefined"==typeof caseData?"":caseData[0].param}),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(antd_es_alert__WEBPACK_IMPORTED_MODULE_5__.a,{message:"dubbo contextParams",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),react__WEBPACK_IMPORTED_MODULE_19___default.a.createElement(TextArea,{rows:3,style:{width:"670px",marginBottom:"6px"},value:"undefined"==typeof caseData?"":caseData[0].testCase.contextParamScript}))}}]),ExeCaseDrawer}(react__WEBPACK_IMPORTED_MODULE_19__.Component),_class=_temp))||_class)||_class);__webpack_exports__.a=antd_es_form__WEBPACK_IMPORTED_MODULE_1__.a.create()(ExeCaseDrawer)},1536:function(e,a,t){"use strict";t.r(a);t(1469);var _=t(1470),r=(t(641),t(418)),n=(t(1479),t(1478)),s=(t(1472),t(1473)),l=(t(1466),t(13)),o=(t(236),t(70)),i=(t(637),t(1465)),c=t(65),d=t(1495),p=t(1494),u=t(66),E=t(1496),m=t(0),h=t.n(m),D=(t(4),t(416)),O=t(1504),b=t.n(O),M=(t(1476),t(1477)),f=(t(640),t(1480)),C=t(237);t(1497),t(68);function P(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(e);a&&(_=_.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,_)}return t}function g(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?P(t,!0).forEach((function(a){Object(C.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var T,v,I=function(e){var a;return[{title:"\u7528\u4f8bID",dataIndex:"id",key:"id",width:80,fixed:"left"},{title:"\u7528\u4f8b\u540d\u79f0",dataIndex:"name",key:"name",width:350},g({title:"\u5e94\u7528",dataIndex:"appName",key:"appName",width:100},e.getColumnSearchProps("appName")),{title:"\u63a5\u53e3\u8def\u5f84",dataIndex:"apiClassName",key:"apiClassName",width:300,render:function(e,a){var t=h.a.createElement("div",null,h.a.createElement("span",null,"\u63a5\u53e3\u540d\uff1a",a.testApi.name),h.a.createElement("br",null),h.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",a.testApi.apiClassName),h.a.createElement("br",null),h.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",a.testApi.apiMethodName),h.a.createElement("br",null),h.a.createElement("span",null,"\u53c2\u6570\u7c7b\u578b\uff1a",a.testApi.argsTypeNames),h.a.createElement("br",null));return h.a.createElement("span",null,h.a.createElement(f.a,{content:t},a.testApi.apiClassName))}},{title:"\u65b9\u6cd5\u540d",dataIndex:"apiMethodName",key:"apiMethodName",width:170,render:function(e,a){return h.a.createElement("span",null,a.testApi.apiMethodName)}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:80},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:150},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"editTimeStr",key:"editTimeStr",width:200},(a={title:"\u64cd\u4f5c",width:"27%",key:"operation"},Object(C.a)(a,"width",250),Object(C.a)(a,"fixed","right"),Object(C.a)(a,"render",(function(a,t){var _="/edit_testcase?apiId="+t.apiId,r="/update_api?apiId="+t.apiId,n="/edit_testcase?apiId="+t.apiId+"&caseId="+t.id;return h.a.createElement("span",null,h.a.createElement("a",{href:n,target:"_blank"},"\u4fee\u6539"),"\xa0",h.a.createElement("a",{onClick:function(){window.open("/edit_testcase?type=copy&apiId="+t.apiId+"&caseId="+t.id)},className:"vLine"}," \u590d\u5236"),"\xa0",h.a.createElement("a",{href:_,target:"_blank",className:"vLine"}," \u8ffd\u52a0"),"\xa0",h.a.createElement("a",{href:r,target:"_blank",className:"vLine"}," \u63a5\u53e3"),"\xa0",h.a.createElement("a",{onClick:e.showExeCaseModal.bind(e,[t.id]),className:"vLine"}," \u6267\u884c"),"\xa0",h.a.createElement(M.a,{title:"\u786e\u5b9a\u5220\u9664\u6b64\u7528\u4f8b\u5417\uff1f",onConfirm:function(){return e.deleteCase([t.id])}},h.a.createElement("a",{href:"#",className:"vLine"}," \u5220\u9664")))})),a)]},y=t(1501),w=(t(1474),t(1475)),x=(t(638),t(417)),k=t(15),A=t.n(k),R=t(28),L=(t(1467),t(1468)),B=t(238),K=L.a.Item,S=Object(D.b)("TestCaseManagerStore","ExeRecordStore")(T=Object(D.c)(T=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).timerExe=function(){var e=Object(R.a)(A.a.mark((function e(a){var _;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.ExeRecordStore.getDetailData(a.data);case 2:_=e.sent,t.timerDate=setInterval((function(){return t.tick(_.status)}),1e3);case 4:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),t.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},t.state={scheduleType:"",env:""},t}return Object(E.a)(a,e),Object(u.a)(a,[{key:"okModal",value:function(){var e=this;this.props.form.validateFieldsAndScroll(function(){var a=Object(R.a)(A.a.mark((function a(t,_){var r,n;return A.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=13;break}return r={id:null,caseIds:e.props.caseIds,scheduleType:1,env:e.state.env},a.next=4,e.props.TestCaseManagerStore.exeCase(r,"case");case 4:if(200!=(n=a.sent).code){a.next=12;break}return e.hideExeCaseModal(),e.timerExe(n),a.next=10,e.props.TestCaseManagerStore.showCaseDrawer();case 10:a.next=13;break;case 12:B.message.warn("\u6267\u884c\u51fa\u73b0\u9519\u8bef");case 13:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}())}},{key:"handleClearTimeout",value:function(){this.timerDate&&clearInterval(this.timerDate)}},{key:"componentWillUnmount",value:function(){this.handleClearTimeout()}},{key:"tick",value:function(e){2==e&&this.handleClearTimeout()}},{key:"hideExeCaseModal",value:function(){this.props.TestCaseManagerStore.hideExeCaseModal()}},{key:"render",value:function(){var e=this,a=this.props.form.getFieldDecorator,t=this.props,_=t.exeCaseModalVisible,r=t.varValue;return h.a.createElement(w.a,{destroyOnClose:!0,title:"\u6267\u884c\u7528\u4f8b",width:"800px",visible:_,onOk:this.okModal.bind(this),onCancel:this.hideExeCaseModal.bind(this),okText:"\u6267\u884c",cancelText:"\u53d6\u6d88",className:"model"},h.a.createElement(L.a,{className:"ant-advanced-search-form p-xs pb-0"},h.a.createElement(K,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u73af\u5883"}),a("env",{initialValue:r,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883!"}]})(h.a.createElement(i.a,{placeholder:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883",allowClear:!0,style:{width:220},onChange:function(a){return e.setState({env:a.target.value})}}))),h.a.createElement("span",{style:{paddingLeft:"160px"}},h.a.createElement(x.a,{color:"orange"},"\u53ef\u4ee5\u5728\u53c2\u6570\u7ba1\u7406\u4e2d\u914d\u7f6e\u9ed8\u8ba4\u7684\u73af\u5883\u53d8\u91cf\uff0c\u53c2\u6570\u540d\u79f0\u5fc5\u987b\u4e3a:default_env ",h.a.createElement("a",{href:"/global_manager",target:"_blank"},"\u524d\u5f80\u914d\u7f6e"))),h.a.createElement(K,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u65b9\u5f0f"}),h.a.createElement("span",null,"\u5e76\u884c\u6267\u884c"))))}}]),a}(m.Component))||T)||T,W=L.a.create()(S),U=t(1507),j=t(1499);B.message.config({top:200});var N=Object(D.b)("TestCaseManagerStore","CommonStore","SceneManagerStore","ExeRecordStore","GlobalManagerStore")(v=Object(D.c)(v=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(d.a)(this,Object(p.a)(a).call(this,e))).batchExeCase=function(){if(t.state.selectedRowKeys.length<=0)B.message.warn("\u8bf7\u5148\u52fe\u9009\u9700\u8981\u6267\u884c\u7684\u7528\u4f8b");else{for(var e=t.state.selectedRows,a=[],_=0;_<e.length;_++)a.push(e[_].id);t.showExeCaseModal(a)}},t.onChangePage=function(e){t.props.TestCaseManagerStore.initData(e)},t.getColumnSearchProps=function(e){return{filterDropdown:function(a){var _=a.setSelectedKeys,r=a.selectedKeys,n=a.confirm,s=a.clearFilters;return h.a.createElement("div",{style:{padding:8}},h.a.createElement(i.a,{ref:function(e){t.searchInput=e},placeholder:"Search ".concat(e),value:r[0],onChange:function(e){return _(e.target.value?[e.target.value]:[])},onPressEnter:function(){return t.handleSearch(r,n,e)},style:{width:188,marginBottom:8,display:"block"}}),h.a.createElement(o.a,{type:"primary",onClick:function(){return t.handleSearch(r,n,e)},icon:"search",size:"small",style:{width:90,marginRight:8}},"Search"),h.a.createElement(o.a,{onClick:function(){return t.handleReset(s)},size:"small",style:{width:90}},"Reset"))},filterIcon:function(e){return h.a.createElement(l.a,{type:"search",style:{color:e?"#1890ff":void 0}})},onFilter:function(a,t){return t[e].toString().toLowerCase().includes(a.toLowerCase())},onFilterDropdownVisibleChange:function(e){e&&setTimeout((function(){return t.searchInput.select()}))},render:function(a){return t.state.searchedColumn===e?h.a.createElement(b.a,{highlightStyle:{backgroundColor:"#ffc069",padding:0},searchWords:[t.state.searchText],autoEscape:!0,textToHighlight:a.toString()}):a}}},t.handleSearch=function(e,a,_){a(),t.setState({searchText:e[0],searchedColumn:_})},t.handleReset=function(e){e(),t.setState({searchText:""})},t.state={selectedRowKeys:[],selectedRows:[]},t}return Object(E.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u7528\u4f8b\u7ba1\u7406"}]),this.props.TestCaseManagerStore.initData(1),this.props.GlobalManagerStore.getVarDetail("default_env")}}]),Object(u.a)(a,[{key:"showExeCaseModal",value:function(e){this.props.TestCaseManagerStore.showExeCaseModal(e)}},{key:"deleteCase",value:function(e){this.props.TestCaseManagerStore.deleteCase(e)}},{key:"render",value:function(){var e=this.props.TestCaseManagerStore,a=e.dataSource,t=e.pageNo,l=e.pageSize,o=e.totalCount,i=e.exeCaseModalVisible,c=e.caseIds,d=e.drawerVisible,p=a.toJS(),u=this.props.ExeRecordStore.exeDetailData,E=this.props.GlobalManagerStore.varValue;return h.a.createElement("div",{className:"container-bg"},h.a.createElement(_.a,null,h.a.createElement(s.a,{span:4},h.a.createElement(j.a,{pageType:"case",maxHeight:"700px"})),h.a.createElement(s.a,{span:20},h.a.createElement(y.a,null),h.a.createElement(n.a,{bordered:!0,columns:I(this),pagination:!1,scroll:{x:1630,y:600},dataSource:p}),h.a.createElement(r.a,{onChange:this.onChangePage,pageSize:l,current:t,total:o,style:{marginTop:"6px",float:"right"}}),h.a.createElement(W,{exeCaseModalVisible:i,caseIds:c,varValue:E}),h.a.createElement(U.a,{exeDetailData:u,drawerVisible:d}))))}}]),a}(m.Component))||v)||v;a.default=N}}]);
//# sourceMappingURL=9.ebc350da.chunk.js.map