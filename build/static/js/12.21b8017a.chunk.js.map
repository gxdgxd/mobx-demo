{"version":3,"sources":["container/TreeManager/InsertTreeModal.js","container/TreeManager/TreeManager.js","container/ApiManager/Update/TreeModal.js","container/TagManager/SingleTag.js","container/ApiManager/Update/index.js"],"names":["FormItem","Item","InsertTreeModal","inject","observer","props","state","this","form","validateFieldsAndScroll","err","values","TreeManagerStore","insertTreeModule","hideTreeModal","n","e","target","value","changeTableRequestData","getFieldDecorator","treeModalVisible","tableRequestData","modalName","destroyOnClose","title","width","visible","onOk","okModal","bind","onCancel","hideModal","okText","cancelText","className","layout","formItemLayout","label","initialValue","name","rules","required","message","style","placeholder","onChange","inputChange","Component","create","TreeNode","TreeManager","onSelect","selectedKeys","info","console","log","appId","node","dataRef","moduleId","appName","moduleName","pageType","TestCaseManagerStore","initData","ApiManagerStore","setTreeParams","handleAddTree","item","stopPropagation","id","showTreeModal","type","handleEditTree","handleDeleteTree","deleteTree","getNodeTitle","level","onClick","theme","onConfirm","onLoadData","treeNode","a","children","getTreeModuleDataSouce","parentId","renderTreeNodes","data","map","key","getTreeAppDataSouce","treeAppDataSource","maxHeight","loadData","TreeModal","setDetailDataTreeParams","SingleTag","handleClose","removedTag","tags","filter","tag","setState","showInput","inputVisible","input","focus","handleInputChange","inputValue","handleInputConfirm","indexOf","TagManagerStore","postInsertTag","result","getTags","saveInputRef","index","isLongTag","length","tagElem","closable","onClose","slice","ref","size","onBlur","onPressEnter","background","borderStyle","TextArea","DetailIndex","insertTags","handleSubmit","preventDefault","updateApi","setBreadcrumb","getApiDetailData","obj","changeDetailData","detailData","onSubmit","backgroundColor","border","groupId","disabled","artifactId","color","href","apiClassName","apiMethodName","creatorName","desc","rows","htmlType"],"mappings":"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","file":"static/js/12.21b8017a.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport {Row, Form, Input, Modal} from 'antd';\nconst FormItem = Form.Item;\n\n\n@inject('TreeManagerStore')\n@observer\nclass InsertTreeModal extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n        }\n    }\n\n    okModal(){\n        this.props.form.validateFieldsAndScroll((err, values) => {\n            if (!err) {\n                this.props.TreeManagerStore.insertTreeModule();\n            }\n        });\n    }\n\n    hideModal(){\n        this.props.TreeManagerStore.hideTreeModal();\n    }\n    /**\n     * 输入框和单选按钮产生的change事件\n     * @param n\n     * @param e\n     */\n    inputChange(n,e) {\n        let obj={};\n        obj[n]=e.target.value;\n        this.props.TreeManagerStore.changeTableRequestData(n,e.target.value);\n    }\n\n    render(){\n        const { getFieldDecorator } = this.props.form;\n        const { treeModalVisible,tableRequestData,modalName} = this.props\n        return (\n            <Modal\n                destroyOnClose\n                title={modalName}\n                width=\"900px\"\n                visible={treeModalVisible}\n                onOk={this.okModal.bind(this)}\n                onCancel={this.hideModal.bind(this)}\n                okText=\"保存\"\n                cancelText=\"取消\"\n                className=\"model\" width={500} >\n\n                <Form  layout=\"inline\" className=\"ant-advanced-search-form p-xs pb-0\">\n                    <Row>\n                        <FormItem {...this.formItemLayout} label=\"模块名称\" >\n                            {getFieldDecorator('name', {\n                                initialValue: tableRequestData.name,\n                                rules: [{ required: true, message: '请填写模块名称!' }],\n                            })(\n                                <Input  style={{ width: 250 }} placeholder='请填写模块名称!' onChange={this.inputChange.bind(this,'name')}/>\n                            )}\n                        </FormItem>\n                    </Row>\n                </Form>\n            </Modal>\n        )\n    }\n}\n\nexport default Form.create()(InsertTreeModal)\n","import React, {Component} from 'react';\nimport { observable, action, computed } from 'mobx';\nimport { observer, inject } from 'mobx-react';\nimport {  Icon,Tree, Popconfirm} from 'antd';\nimport InsertTreeModal from './InsertTreeModal';\nimport TreeManagerStore from \"../../stores/TreeManager/TreeManagerStore\";\n\nconst { TreeNode } = Tree;\n\n@inject('TreeManagerStore','TestCaseManagerStore','ApiManagerStore')\n@observer\nclass TreeManager extends Component {\n    componentDidMount() {\n        this.props.TreeManagerStore.getTreeAppDataSouce();\n    }\n    constructor(props){\n        super(props);\n    }\n    onSelect = (selectedKeys, info) => {\n        console.log(info)\n        let appId = info.node.props.dataRef.appId\n        let moduleId = info.node.props.dataRef.moduleId\n        let appName = info.node.props.dataRef.appName\n        let moduleName = info.node.props.dataRef.moduleName\n        let pageType = this.props.pageType\n        if(pageType == 'case'){\n            this.props.TestCaseManagerStore.initData(1,appId,moduleId)\n        }else if(pageType == \"api\"){\n            this.props.ApiManagerStore.initData(1,appId,moduleId)\n        }else if(pageType == \"insertApi\"){\n            this.props.ApiManagerStore.setTreeParams(appId,moduleId,appName,moduleName)\n        }else if(pageType == \"updateApi\"){\n            this.props.ApiManagerStore.setTreeParams(appId,moduleId,appName,moduleName)\n        }\n    };\n    /**\n     * 新增节点\n     */\n    handleAddTree = (e,item) => {\n        e.stopPropagation();\n        if (item.id) {\n            console.log(e.target.value)\n            this.props.TreeManagerStore.showTreeModal({\n                moduleName:\"添加模块\",\n                type:\"insert\",\n                item:item\n            })\n        }\n    };\n    /**\n     * 编辑节点\n     */\n    handleEditTree = (e,item) => {\n        e.stopPropagation();\n        if (item.id) {\n            this.props.TreeManagerStore.showTreeModal({\n                moduleName:\"修改模块\",\n                type:\"update\",\n                item:item,\n            });\n        }\n    };\n    /**\n     * 编辑节点\n     */\n    handleDeleteTree = (item) => {\n        if (item.id) {\n            this.props.TreeManagerStore.deleteTree(item)\n        }\n    };\n    /**\n     * 获取节点的title内容\n     */\n    getNodeTitle = (title, id, level,item) => {\n        return (\n            <div className=\"tree-title\">\n                <span>\n                    {title}\n                </span>\n                <div className=\"tree-parent-div \">\n                    <span className=\"tree-span\" onClick={e => this.handleAddTree(e,item)}>\n                       {level !== 4 &&\n                            <Icon type=\"plus-circle\" theme=\"outlined\"/>\n                       }\n                    </span>\n                    <span className=\"tree-span\"  onClick={e => this.handleEditTree(e,item)}>\n                       {level != 1 &&\n                            <Icon type=\"form\" theme=\"outlined\" />\n                       }\n                    </span>\n                    <span className=\"tree-span\" >\n                         {level != 1 &&\n                              <Popconfirm title=\"确定删除此参数吗？\" onConfirm={() => this.handleDeleteTree(item)}>\n                                 <Icon type=\"delete\" theme=\"outlined\"/>\n                              </Popconfirm>\n                         }\n                    </span>\n                </div>\n            </div>\n        );\n    };\n    onLoadData = async (treeNode) => {\n        if (treeNode.props.children) {\n            return;\n        }\n        await this.props.TreeManagerStore.getTreeModuleDataSouce(treeNode.props.dataRef,treeNode.props.dataRef.parentId)\n    }\n\n    renderTreeNodes = (data, level) => {\n        return (\n            data.map(item => {\n                const title = this.getNodeTitle(item.title, item.id, level,item);\n                if (item.children) {\n                    return (\n                        <TreeNode title={title} key={item.id} dataRef={item}>\n                            {this.renderTreeNodes(item.children,level + 1)}\n                        </TreeNode>\n                    );\n                }\n                return <TreeNode {...item} title={title} key={item.id} dataRef={item} />;\n            })\n        );\n    };\n\n    render(){\n        const {treeAppDataSource,treeModalVisible,tableRequestData,modalName} = this.props.TreeManagerStore\n        return(\n            <div style={{'maxHeight':this.props.maxHeight,'overflow-y':'auto' }}>\n                <Tree onSelect={this.onSelect} loadData={this.onLoadData}>{this.renderTreeNodes(treeAppDataSource,1)}</Tree>\n                <InsertTreeModal modalName={modalName} treeModalVisible={treeModalVisible} tableRequestData={tableRequestData}></InsertTreeModal>\n            </div>\n        )\n    }\n}\n\nexport default TreeManager;","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { Table,Tag, Button,Alert, Radio, Select, Row, Col, Form, DatePicker, Input, Modal,Icon,Upload } from 'antd';\nimport TreeManager from '../../TreeManager/TreeManager';\nimport common from \"../../../style/common.css\";\n\n\n\n@inject('ApiManagerStore')\n@observer\nclass TreeModal extends Component{\n    constructor(props){\n        super(props);\n        this.state={\n        }\n    }\n\n    okModal(){\n        this.props.ApiManagerStore.setDetailDataTreeParams();\n    }\n\n    hideTreeModal(){\n        this.props.ApiManagerStore.hideTreeModal();\n    }\n\n    render(){\n        const { treeModalVisible} = this.props\n        return (\n            <Modal\n                destroyOnClose\n                title=\"添加\"\n                width=\"900px\"\n                visible={treeModalVisible}\n                onOk={this.okModal.bind(this)}\n                onCancel={this.hideTreeModal.bind(this)}\n                okText=\"保存\"\n                cancelText=\"取消\"\n                className=\"model\" width={500} >\n                <span>重新选择应用和模块（点击对应的应用和模块即为选中）</span>\n                <TreeManager pageType=\"updateApi\" maxHeight=\"420px\"/>\n            </Modal>\n        )\n    }\n}\n\nexport default Form.create()(TreeModal)\n","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport { Tag,Icon, Input,Tooltip } from 'antd';\n\n@inject('TagManagerStore','ApiManagerStore')\n@observer\nclass SingleTag extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tags:[],\n            inputVisible: false,\n            inputValue: '',\n        }\n    }\n\n    handleClose = removedTag => {\n        debugger\n        const tags = this.props.tags.filter(tag => tag.id !== removedTag);\n        console.log(tags);\n        this.setState({ tags });\n    };\n\n    showInput = () => {\n        this.setState({ inputVisible: true }, () => this.input.focus());\n    };\n\n    handleInputChange = e => {\n        this.setState({ inputValue: e.target.value });\n    };\n\n    handleInputConfirm = async () => {\n        const { inputValue } = this.state;\n        let { tags } = this.state\n        if (inputValue && tags.indexOf(inputValue) === -1) {\n            tags = [...tags, inputValue];\n        }\n        const result = await this.props.TagManagerStore.postInsertTag(tags[0])\n        let tag = {'id':result.data,'value':tags[0]}\n        this.props.getTags(tag)\n        this.setState({\n            inputVisible: false,\n            inputValue: '',\n        });\n    };\n\n    saveInputRef = input => (this.input = input);\n\n    render(){\n        const { inputVisible, inputValue} = this.state;\n        return(\n            <div>\n                {this.props.tags.map((tag, index) => {\n                    const isLongTag = tag.length > 20;\n                    const tagElem = (\n                        <Tag key={tag.id} closable onClose={() => this.handleClose(tag.id)}>\n                            {isLongTag ? `${tag.value.slice(0, 20)}...` : tag.value}\n                        </Tag>\n                    );\n                    return isLongTag ? (\n                        <Tooltip title={tag.value} key={tag.id}>\n                            {tagElem}\n                        </Tooltip>\n                    ) : (\n                        tagElem\n                    );\n                })}\n                {inputVisible && (\n                    <Input\n                        ref={this.saveInputRef}\n                        type=\"text\"\n                        size=\"small\"\n                        style={{ width: 78 }}\n                        value={inputValue}\n                        onChange={this.handleInputChange}\n                        onBlur={this.handleInputConfirm}\n                        onPressEnter={this.handleInputConfirm}\n                    />\n                )}\n                {!inputVisible && (\n                    <Tag onClick={this.showInput} style={{ background: '#fff', borderStyle: 'dashed' }}>\n                        <Icon type=\"plus\" /> New Tag\n                    </Tag>\n                )}\n            </div>\n        )\n    }\n}\n\nexport default SingleTag","import React, { Component } from 'react';\nimport { observable, action, computed,toJS } from 'mobx';\nimport { observer, inject } from 'mobx-react';\nimport TreeModal from './TreeModal'\nimport { Tag, Button,Alert, Row, Form, Input,Icon } from 'antd';\nimport SingleTag from \"../../TagManager/SingleTag\";\nconst FormItem = Form.Item;\nconst { TextArea } = Input;\n\n\n@inject('ApiManagerStore','TagManagerStore')\n@observer\nclass DetailIndex extends Component{\n    componentDidMount() {\n        this.props.setBreadcrumb([\n            {name: '接口管理'},\n            {name: '修改接口'},\n        ]);\n        this.props.ApiManagerStore.getApiDetailData()\n    }\n    constructor(props){\n        super(props);\n        this.state={\n\n        }\n    }\n\n    /**\n     * 获取子组件SingleTag中用户输入的tag标签\n     */\n    getTags = (tags) => {\n        debugger\n        this.props.ApiManagerStore.insertTags(tags)\n    };\n    /**\n     * 输入框和单选按钮产生的change事件\n     * @param n\n     * @param e\n     */\n    inputChange(n,e) {\n        let obj={};\n        obj[n]=e.target.value;\n        this.setState(obj);\n        this.props.ApiManagerStore.changeDetailData(n,e.target.value);\n    }\n    handleSubmit = (e) => {\n\n        e.preventDefault();\n        this.props.form.validateFieldsAndScroll((err, values) => {\n            if (!err) {\n                this.props.ApiManagerStore.updateApi(1);\n            }\n        });\n    }\n\n    showTreeModal(){\n        this.props.ApiManagerStore.showTreeModal()\n    }\n    render(){\n        const { getFieldDecorator } = this.props.form;\n        const { detailData,tags,treeModalVisible} = this.props.ApiManagerStore\n\n        return (\n            <div  style={{'marginLeft':'15px'}}>\n                <Form  layout=\"inline\" className=\"ant-advanced-search-form p-xs pb-0\" onSubmit={this.handleSubmit}>\n                    <Alert message=\"api包信息\" type=\"info\" style={{backgroundColor:'#c7e7ff',border:'0px','marginBottom':'10px'}}/>\n                    <Row>\n                        <FormItem {...this.formItemLayout} label=\"groupId\">\n                            {getFieldDecorator('groupId', {\n                                initialValue: detailData.groupId,\n                                rules: [{ required: true, message: '请填写groupId!' }],\n                            })(\n                                <Input disabled style={{ width: 190 }} value={detailData.groupId}/>\n                            )}\n                        </FormItem>\n                        <FormItem {...this.formItemLayout} label=\"artifactId\">\n                            {getFieldDecorator('artifactId', {\n                                initialValue: detailData.artifactId,\n                                rules: [{ required: true, message: '请填写artifactId!' }],\n                            })(\n                                <Input disabled style={{ width: 190 }} value={detailData.groupId}/>\n                            )}\n                        </FormItem>\n                    </Row>\n                    <Alert message=\"接口信息\" type=\"info\" style={{backgroundColor:'#c7e7ff',border:'0px','marginBottom':'10px'}}/>\n                    <Row>\n\n                        <FormItem {...this.formItemLayout} label=\"\">\n                            <Tag color=\"geekblue\">接口归属应用：{detailData.appName}</Tag>\n                        </FormItem>\n                        <FormItem {...this.formItemLayout} label=\"\">\n                            <Tag color=\"geekblue\">接口归属模块：{detailData.moduleName}</Tag>\n                        </FormItem>\n                        <FormItem {...this.formItemLayout} label=\"\">\n                            <a href=\"#\" onClick={this.showTreeModal.bind(this)}><Icon type=\"edit\"></Icon> 编辑</a>\n                            <TreeModal treeModalVisible={treeModalVisible}></TreeModal>\n                        </FormItem>\n                    </Row>\n                    <Row>\n                        <FormItem {...this.formItemLayout} label=\"接口路径\">\n                            {getFieldDecorator('apiClassName', {\n                                initialValue: detailData.apiClassName,\n                                rules: [{ required: true, message: '请填写接口路径!' }],\n                            })(\n                                <Input disabled style={{ width: 823 }} />\n                            )}\n                        </FormItem>\n                    </Row>\n                    <Row>\n                        <FormItem {...this.formItemLayout} label=\"方法名\">\n                            {getFieldDecorator('apiMethodName', {\n                                initialValue: detailData.apiMethodName,\n                                rules: [{ required: true, message: '请填写方法名!' }],\n                            })(\n                                <Input disabled style={{ width: 375 }} />\n                            )}\n                        </FormItem>\n                        <FormItem {...this.formItemLayout} label=\"接口名\">\n                            {getFieldDecorator('name', {\n                                initialValue: detailData.name,\n                                rules: [{ required: true, message: '请填写接口名!' }],\n                            })(\n                                <Input style={{ width: 378 }} onChange={this.inputChange.bind(this,'name')} />\n                            )}\n                        </FormItem>\n                    </Row>\n                    <Row>\n                        <FormItem {...this.formItemLayout} label=\"创建人\">\n                            {getFieldDecorator('creatorName', {\n                                initialValue: detailData.creatorName,\n                                rules: [{ required: true, message: '请填写创建人!' }],\n                            })(\n                                <Input disabled style={{ width: 145 }} />\n                            )}\n                        </FormItem>\n                        <FormItem {...this.formItemLayout} label=\"接口标签\">\n                            <SingleTag tags={tags} getTags={this.getTags}/>\n                        </FormItem>\n                    </Row>\n                    <Row>\n                        <FormItem {...this.formItemLayout} label=\"描述\">\n                            {getFieldDecorator('desc', {\n                                initialValue: detailData.desc,\n                                rules: [{ required: false, message: '请填写描述!' }],\n                            })(\n                                <TextArea rows={3} style={{ width: 852 }} value={detailData.desc} onChange={this.inputChange.bind(this,'desc')}/>\n                            )}\n                        </FormItem>\n                    </Row>\n                    <Row>\n                        <Form.Item>\n                            <Button type=\"primary\" htmlType=\"submit\" >\n                                修改\n                            </Button>\n                        </Form.Item>\n                    </Row>\n                </Form>\n            </div>\n        )\n    }\n}\n\nexport default Form.create()(DetailIndex)\n"],"sourceRoot":""}