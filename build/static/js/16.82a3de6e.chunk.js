(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[16],{1526:function(e,t,a){"use strict";a.r(t);a(639);var n,r,o=a(417),l=(a(1472),a(1471)),c=(a(235),a(67)),s=(a(1463),a(14)),i=(a(1462),a(1465)),m=(a(636),a(1466)),u=(a(1469),a(1470)),h=a(71),d=a(1486),p=a(1485),E=a(72),b=a(1487),g=(a(1483),a(1482)),C=(a(1464),a(1467)),f=(a(637),a(193)),S=a(0),y=a.n(S),v=(a(9),a(415)),x=a(25),O=a.n(x),k=(a(638),a(416)),I=(a(1496),a(1475),a(1476)),j=Object(v.b)("ExeRecordStore")(n=Object(v.c)(n=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this.props,t=e.modalVisible,a=e.detailData;return y.a.createElement("div",{className:"container-bg"},y.a.createElement(I.a,{destroyOnClose:!0,title:"\u6267\u884c\u8be6\u60c5",width:"800px",visible:t,okText:"\u4fdd\u5b58",cancelText:"\u53d6\u6d88",className:"model"},y.a.createElement(i.a,{gutter:48},y.a.createElement(u.a,{span:7},"\u6267\u884c\u7ed3\u679c\uff1a",a.status))))}}]),t}(S.Component))||n)||n,D=f.a.Option,R=C.a.Item,T=g.a.RangePicker,w=Object(v.b)("ExeRecordStore","CommonStore")(r=Object(v.c)(r=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).onChangePage=function(e){a.props.ExeRecordStore.initData(e)},a.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},a.handleSearch=function(){a.props.ExeRecordStore.initData(1)},a.handleCreatorSearch=function(e){e?a.props.CommonStore.getAllCreators(e):a.setState({data:[]})},a.handleCreatorChange=function(e){a.setState({value:e}),a.props.ExeRecordStore.changeTableRequestData("operatorId",e)},a.state={json_str:{}},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u6267\u884c\u8bb0\u5f55"}]),this.props.ExeRecordStore.initData(1)}}]),Object(E.a)(t,[{key:"inputChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t.target.value)}},{key:"optionChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t||"")}},{key:"showModal",value:function(e){this.props.ExeRecordStore.getDetailData(e)}},{key:"onDateChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData("exeTimeBefore",t[0]),this.props.ExeRecordStore.changeTableRequestData("finishTimeAfter",t[1])}},{key:"render",value:function(){var e,t=this.props.ExeRecordStore,a=t.dataSource,n=t.modalVisible,r=t.pageNo,h=t.pageSize,d=t.totalCount,p=t.detailData,E=this.props.CommonStore.allCreators,b=a.toJS();return y.a.createElement("div",{className:"container-bg"},y.a.createElement(C.a,{className:"ant-advanced-search-form p-xs pb-0"},y.a.createElement(i.a,{gutter:48},y.a.createElement(u.a,{span:8},y.a.createElement(R,Object.assign({},this.formItemLayout,{label:"\u65f6\u95f4"}),y.a.createElement(T,{ranges:{Today:[O()(),O()()],"This Month":[O()().startOf("month"),O()().endOf("month")]},onChange:this.onDateChange}))),y.a.createElement(u.a,{span:7},y.a.createElement(R,Object.assign({},this.formItemLayout,{label:"\u573a\u666fID"}),y.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u5165\u573a\u666fID",onChange:this.inputChange.bind(this,"testSceneId")}))),y.a.createElement(u.a,{span:7},y.a.createElement(R,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u73af\u5883"}),y.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883",onChange:this.inputChange.bind(this,"env")})))),y.a.createElement(i.a,{gutter:48},y.a.createElement(u.a,{span:8},y.a.createElement(R,Object.assign({},this.formItemLayout,{label:"\u64cd\u4f5c\u4eba"}),y.a.createElement(f.a,{showSearch:!0,value:this.state.value,placeholder:"\u8bf7\u8f93\u5165\u771f\u540d\u641c\u7d22(\u975e\u82b1\u540d)",style:this.props.style,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleCreatorSearch,onChange:this.handleCreatorChange,notFoundContent:null},E.map((function(e){return y.a.createElement(D,{key:e.userId},e.realName)}))))),y.a.createElement(u.a,{span:7},y.a.createElement(R,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u72b6\u6001"}),y.a.createElement(f.a,{placeholder:"\u8bf7\u9009\u62e9\u6267\u884c\u72b6\u6001",onChange:this.optionChange.bind(this,"status")},y.a.createElement(D,{value:"0"},"\u5f85\u6267\u884c"),y.a.createElement(D,{value:"1"},"\u6267\u884c\u4e2d"),y.a.createElement(D,{value:"2"},"\u5df2\u5b8c\u6210")))),y.a.createElement(u.a,{span:3},y.a.createElement(c.a,{type:"primary",htmlType:"submit",onClick:this.handleSearch},y.a.createElement(s.a,{type:"search"})," \u641c\u7d22")))),y.a.createElement(i.a,{style:{marginTop:"8px"}},y.a.createElement(l.a,{bordered:!0,columns:(e=this,[{title:"ID",dataIndex:"testSceneId",key:"testSceneId"},{title:"\u573a\u666f\u540d\u79f0",dataIndex:"testSceneName",key:"testSceneName"},{title:"\u6267\u884c\u65f6\u95f4",dataIndex:"exeTimeStr",key:"exeTimeStr"},{title:"\u73af\u5883",dataIndex:"env",key:"env"},{title:"\u603b\u7528\u4f8b\u6570",dataIndex:"testCaseCount",key:"testCaseCount"},{title:"\u6210\u529f\u6570",dataIndex:"succeedCount",key:"succeedCount"},{title:"\u5931\u8d25\u6570",dataIndex:"failedCount",key:"failedCount"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operatorName",key:"operatorName"},{title:"\u6267\u884c\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){var t="";return"0"==e?(t="\u5f85\u6267\u884c",y.a.createElement("span",null,y.a.createElement(k.a,{color:"orange"},t))):"1"==e?(t="\u6267\u884c\u4e2d",y.a.createElement("span",null,y.a.createElement(k.a,{color:"blue"},t))):"2"==e?(t="\u5df2\u5b8c\u6210",y.a.createElement("span",null,y.a.createElement(k.a,{color:"green"},t))):void 0}},{title:"\u64cd\u4f5c",width:"10%",key:"operation",render:function(t,a){return y.a.createElement("div",null,y.a.createElement("span",null,y.a.createElement("a",{onClick:e.showModal.bind(e,a.id)},"\u8be6\u60c5")," \xa0"))}}]),dataSource:b}),y.a.createElement(o.a,{onChange:this.onChangePage,pageSize:h,current:r,total:d,style:{marginTop:"6px",float:"right"}}),y.a.createElement(j,{modalVisible:n,detailData:p})))}}]),t}(S.Component))||r)||r;t.default=w}}]);
//# sourceMappingURL=16.82a3de6e.chunk.js.map