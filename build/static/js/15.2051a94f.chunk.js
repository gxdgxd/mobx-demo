(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[15],{1517:function(e,a,t){"use strict";t.r(a);t(235);var n,i=t(67),l=(t(1463),t(14)),r=(t(641),t(159)),s=(t(638),t(416)),u=(t(1466),t(1467)),o=(t(1479),t(1480)),c=t(237),m=t(71),p=t(1486),d=t(1485),h=t(72),g=t(1487),b=(t(636),t(1462)),f=(t(642),t(238)),E=(t(1483),t(1482)),y=(t(637),t(193)),v=(t(1464),t(1465)),I=(t(1472),t(1471)),O=t(0),w=t.n(O),C=(t(9),t(415)),j=(I.a.Column,I.a.ColumnGroup,v.a.Item),S=y.a.Option,V=(E.a.RangePicker,f.a.Group,b.a.TextArea),k=Object(C.b)("ApiManagerStore")(n=Object(C.c)(n=function(e){function a(e){var t;return Object(m.a)(this,a),(t=Object(p.a)(this,Object(d.a)(a).call(this,e))).handleClose=function(e){var a=t.props.ApiManagerStore.tags.filter((function(a){return a.id!==e}));console.log(a),t.setState({tags:a})},t.showInput=function(){t.setState({inputVisible:!0},(function(){return t.input.focus()}))},t.handleInputChange=function(e){t.setState({inputValue:e.target.value})},t.handleInputConfirm=function(){var e=t.state.inputValue,a=t.state.tags;e&&-1===a.indexOf(e)&&(a=[].concat(Object(c.a)(a),[e])),t.props.ApiManagerStore.insertTag(a[0]),t.setState({inputVisible:!1,inputValue:""})},t.saveInputRef=function(e){return t.input=e},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFieldsAndScroll((function(e,a){e||t.props.ApiManagerStore.updateApi(1)}))},t.state={tags:[],inputVisible:!1,inputValue:""},t}return Object(g.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u63a5\u53e3\u7ba1\u7406"},{name:"\u4fee\u6539\u63a5\u53e3"}]),this.props.ApiManagerStore.getApiDetailData()}}]),Object(h.a)(a,[{key:"inputChange",value:function(e,a){var t={};t[e]=a.target.value,this.setState(t),this.props.ApiManagerStore.changeDetailData(e,a.target.value)}},{key:"render",value:function(){var e=this,a=this.props.form.getFieldDecorator,t=this.props.ApiManagerStore,n=t.detailData,c=t.tags,m=this.state,p=m.inputVisible,d=m.inputValue;return w.a.createElement("div",{style:{marginLeft:"15px"}},w.a.createElement(v.a,{layout:"inline",className:"ant-advanced-search-form p-xs pb-0",onSubmit:this.handleSubmit},w.a.createElement(o.a,{message:"api\u5305\u4fe1\u606f",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),w.a.createElement(u.a,null,w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"groupId"}),a("groupId",{initialValue:n.groupId,rules:[{required:!0,message:"\u8bf7\u586b\u5199groupId!"}]})(w.a.createElement(b.a,{disabled:!0,style:{width:190},value:n.groupId}))),w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"artifactId"}),a("artifactId",{initialValue:n.artifactId,rules:[{required:!0,message:"\u8bf7\u586b\u5199artifactId!"}]})(w.a.createElement(b.a,{disabled:!0,style:{width:190},value:n.groupId})))),w.a.createElement(o.a,{message:"\u63a5\u53e3\u4fe1\u606f",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),w.a.createElement(u.a,null,w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u5e94\u7528\u540d"}),a("version",{initialValue:n.version,rules:[{required:!0,message:"\u8bf7\u586b\u5199version!"}]})(w.a.createElement(y.a,{style:{width:145},showSearch:!0},w.a.createElement(S,{key:"1",value:"1"},"1")))),w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u4e00\u7ea7\u6a21\u5757"}),a("version",{initialValue:n.version,rules:[{required:!1,message:"\u8bf7\u586b\u5199version!"}]})(w.a.createElement(y.a,{style:{width:145},showSearch:!0},w.a.createElement(S,{key:"1",value:"1"},"1")))),w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u4e8c\u7ea7\u6a21\u5757"}),a("version",{initialValue:n.version,rules:[{required:!1,message:"\u8bf7\u586b\u5199version!"}]})(w.a.createElement(y.a,{style:{width:145},showSearch:!0},w.a.createElement(S,{key:"1",value:"1"},"1")))),w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u4e09\u7ea7\u6a21\u5757"}),a("version",{initialValue:n.version,rules:[{required:!1,message:"\u8bf7\u586b\u5199version!"}]})(w.a.createElement(y.a,{style:{width:145},showSearch:!0},w.a.createElement(S,{key:"1",value:"1"},"1"))))),w.a.createElement(u.a,null,w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3\u8def\u5f84"}),a("apiClassName",{initialValue:n.apiClassName,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u63a5\u53e3\u8def\u5f84!"}]})(w.a.createElement(b.a,{disabled:!0,style:{width:823}})))),w.a.createElement(u.a,null,w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u65b9\u6cd5\u540d"}),a("apiMethodName",{initialValue:n.apiMethodName,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u65b9\u6cd5\u540d!"}]})(w.a.createElement(b.a,{disabled:!0,style:{width:375}}))),w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3\u540d"}),a("name",{initialValue:n.name,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u63a5\u53e3\u540d!"}]})(w.a.createElement(b.a,{style:{width:378},onChange:this.inputChange.bind(this,"name")})))),w.a.createElement(u.a,null,w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u521b\u5efa\u4eba"}),a("creatorName",{initialValue:n.creatorName,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u521b\u5efa\u4eba!"}]})(w.a.createElement(b.a,{disabled:!0,style:{width:145}}))),w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u6807\u7b7e"}),w.a.createElement("div",null,c.map((function(a,t){var n=a.length>20,i=w.a.createElement(s.a,{key:a.id,closable:!0,onClose:function(){return e.handleClose(a.id)}},n?"".concat(a.value.slice(0,20),"..."):a.value);return n?w.a.createElement(r.a,{title:a.value,key:a.id},i):i})),p&&w.a.createElement(b.a,{ref:this.saveInputRef,type:"text",size:"small",style:{width:78},value:d,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!p&&w.a.createElement(s.a,{onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed"}},w.a.createElement(l.a,{type:"plus"})," New Tag")))),w.a.createElement(u.a,null,w.a.createElement(j,Object.assign({},this.formItemLayout,{label:"\u63cf\u8ff0"}),a("desc",{initialValue:n.desc,rules:[{required:!1,message:"\u8bf7\u586b\u5199\u63cf\u8ff0!"}]})(w.a.createElement(V,{rows:3,style:{width:852},value:n.desc,onChange:this.inputChange.bind(this,"desc")})))),w.a.createElement(u.a,null,w.a.createElement(v.a.Item,null,w.a.createElement(i.a,{type:"primary",htmlType:"submit"},"\u4fee\u6539")))))}}]),a}(O.Component))||n)||n;a.default=v.a.create()(k)}}]);
//# sourceMappingURL=15.2051a94f.chunk.js.map