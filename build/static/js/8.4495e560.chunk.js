(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[8],{1499:function(e,t,a){},1500:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"a",(function(){return u}));a(641);var n=a(1482),r=(a(1478),a(1479)),l=(a(1467),a(13)),i=a(0),o=a.n(i),s=(a(1499),function(e){return[{title:"\u573a\u666fID",dataIndex:"id",key:"id",width:80,fixed:"left"},{title:"\u573a\u666f\u540d\u79f0",dataIndex:"name",key:"name",width:300,render:function(e,t){var a=null!=t.alarmDingUrls?o.a.createElement(l.a,{type:"dingding",style:{color:"#30a4ea"}}):"",n=null!=t.cron?o.a.createElement(l.a,{type:"clock-circle",style:{color:"#30a4ea"}}):"";return t.cron,o.a.createElement("span",null,a," ",n," ",e)}},{title:"\u6267\u884c\u65b9\u5f0f",dataIndex:"scheduleType",key:"scheduleType",width:120,render:function(e){var t="";return 0==e?t="\u987a\u5e8f\u6267\u884c":1==e?t="\u5e76\u884c\u6267\u884c":2==e&&(t="\u81ea\u5b9a\u4e49"),o.a.createElement("span",null,t)}},{title:"\u73af\u5883",dataIndex:"env",key:"env",width:300},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:200},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"editTimeStr",key:"editTimeStr",width:200},{title:"\u64cd\u4f5c",width:200,key:"operation",fixed:"right",render:function(t,a){var n="/update_scene?sceneId="+a.id;return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("a",{href:n,target:"_blank"},"\u4fee\u6539\u573a\u666f"),"\xa0",o.a.createElement(r.a,{title:"\u786e\u5b9a\u6267\u884c\u6b64\u573a\u666f\u5417\uff1f",onConfirm:function(){return e.exeCase(a)}},o.a.createElement("a",{href:"#",className:"vLine"}," \u6267\u884c\u573a\u666f"))))}}]}),c=function(e){return[{title:"\u7528\u4f8bID",dataIndex:"id",key:"id",width:80,fixed:"left"},{title:"\u7528\u4f8b\u540d\u79f0",dataIndex:"name",key:"name",width:350},{title:"\u5e94\u7528",dataIndex:"appName",key:"appName",width:100},{title:"\u63a5\u53e3\u8def\u5f84",dataIndex:"apiClassName",key:"apiClassName",width:350,render:function(e,t){var a=o.a.createElement("div",null,o.a.createElement("span",null,"\u63a5\u53e3\u540d\uff1a",t.testApi.name),o.a.createElement("br",null),o.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",t.testApi.apiClassName),o.a.createElement("br",null),o.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",t.testApi.apiMethodName),o.a.createElement("br",null),o.a.createElement("span",null,"\u53c2\u6570\u7c7b\u578b\uff1a",t.testApi.argsTypeNames),o.a.createElement("br",null));return o.a.createElement("span",null,o.a.createElement(n.a,{content:a},t.testApi.apiClassName))}},{title:"\u65b9\u6cd5\u540d",dataIndex:"apiMethodName",key:"apiMethodName",width:170,render:function(e,t){return o.a.createElement("span",null,t.testApi.apiMethodName)}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:80},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:150},{title:"\u64cd\u4f5c",width:230,key:"operation",fixed:"right",render:function(t,a){var n="/edit_testcase?apiId="+a.apiId+"&caseId="+a.id,l="/api_manager?apiId="+a.apiId;return o.a.createElement("span",null,o.a.createElement(r.a,{title:"\u786e\u5b9a\u4ece\u6b64\u573a\u666f\u4e2d\u79fb\u9664\u6b64\u7528\u4f8b\u5417\uff1f",onConfirm:function(){return e.deleteSceneCase(a.key)}},o.a.createElement("a",{href:"#"},"\u79fb\u9664\u7528\u4f8b"),"\xa0"),o.a.createElement("a",{href:n,target:"_blank",className:"vLine"}," \u4fee\u6539\u7528\u4f8b"),"\xa0",o.a.createElement("a",{href:l,target:"_blank",className:"vLine"}," \u67e5\u770b\u63a5\u53e3"))}}]},u=function(e){return[{title:"\u7528\u4f8bID",dataIndex:"id",key:"id",width:80},{title:"\u7528\u4f8b\u540d\u79f0",dataIndex:"name",key:"name",width:350},{title:"\u5e94\u7528",dataIndex:"appName",key:"appName",width:100},{title:"\u63a5\u53e3\u8def\u5f84",dataIndex:"apiClassName",key:"apiClassName",width:300,render:function(e,t){var a=o.a.createElement("div",null,o.a.createElement("span",null,"\u63a5\u53e3\u540d\uff1a",t.testApi.name),o.a.createElement("br",null),o.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",t.testApi.apiClassName),o.a.createElement("br",null),o.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",t.testApi.apiMethodName),o.a.createElement("br",null),o.a.createElement("span",null,"\u53c2\u6570\u7c7b\u578b\uff1a",t.testApi.argsTypeNames),o.a.createElement("br",null));return o.a.createElement("span",null,o.a.createElement(n.a,{content:a},t.testApi.apiClassName))}},{title:"\u65b9\u6cd5\u540d",dataIndex:"apiMethodName",key:"apiMethodName",width:170,render:function(e,t){return o.a.createElement("span",null,t.testApi.apiMethodName)}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:80},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:150},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"editTimeStr",key:"editTimeStr",width:200}]}},1503:function(e,t,a){"use strict";a(237);var n,r=a(70),l=(a(1467),a(13)),i=(a(1471),a(1472)),o=(a(1474),a(1475)),s=(a(638),a(1468)),c=a(66),u=a(67),d=a(1497),m=a(1496),p=a(1498),h=(a(640),a(195)),g=(a(1469),a(1470)),b=a(0),f=a.n(b),y=a(417),E=g.a.Item,C=h.a.Option,v=Object(y.b)("TestCaseManagerStore","CommonStore")(n=Object(y.c)(n=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleSearch=function(){a.props.TestCaseManagerStore.initData(1)},a.handleCreatorSearch=function(e){e?a.props.CommonStore.getAllCreators(e):a.setState({data:[]})},a.handleCreatorChange=function(e){a.setState({value:e}),a.props.TestCaseManagerStore.changeTableRequestData("creatorId",e)},a.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},a.state={data:[],value:void 0},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.CommonStore.getAllTags()}},{key:"inputChange",value:function(e,t){this.props.TestCaseManagerStore.changeTableRequestData(e,t.target.value)}},{key:"optionChange",value:function(e,t){this.props.TestCaseManagerStore.changeTableRequestData(e,t||"")}},{key:"render",value:function(){var e=this.props.CommonStore,t=e.allTags,a=e.allCreators;return f.a.createElement(g.a,{className:"ant-advanced-search-form p-xs pb-0"},f.a.createElement(i.a,{gutter:48},f.a.createElement(o.a,{span:7},f.a.createElement(E,Object.assign({},this.formItemLayout,{label:"\u7528\u4f8b\u540d"}),f.a.createElement(s.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u4f8b\u540d",allowClear:!0,onChange:this.inputChange.bind(this,"name")}))),f.a.createElement(o.a,{span:7},f.a.createElement(E,Object.assign({},this.formItemLayout,{label:"\u6807\u7b7e"}),f.a.createElement(h.a,{name:"tagId",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u6807\u7b7e\u641c\u7d22",onChange:this.optionChange.bind(this,"tagId")},t.map((function(e){return f.a.createElement(C,{key:e.id,value:e.id},e.value)}))))),f.a.createElement(o.a,{span:7},f.a.createElement(E,Object.assign({},this.formItemLayout,{label:"\u521b\u5efa\u4eba"}),f.a.createElement(h.a,{showSearch:!0,allowClear:!0,value:this.state.value,placeholder:"\u8bf7\u8f93\u5165\u771f\u540d\u641c\u7d22(\u975e\u82b1\u540d)",style:this.props.style,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleCreatorSearch,onChange:this.handleCreatorChange,notFoundContent:null},a.map((function(e){return f.a.createElement(C,{key:e.userId},e.realName)})))))),f.a.createElement(i.a,{gutter:48},f.a.createElement(o.a,{span:7},f.a.createElement(E,Object.assign({},this.formItemLayout,{label:"\u63a5\u53e3ID"}),f.a.createElement(s.a,{placeholder:"\u8bf7\u8f93\u5165\u63a5\u53e3ID",allowClear:!0,onChange:this.inputChange.bind(this,"apiId")}))),f.a.createElement(o.a,{span:7},f.a.createElement(E,Object.assign({},this.formItemLayout,{label:"\u4f18\u5148\u7ea7"}),f.a.createElement(h.a,{placeholder:"\u8bf7\u9009\u62e9\u4f18\u5148\u7ea7\u641c\u7d22",allowClear:!0,onChange:this.optionChange.bind(this,"priority")},f.a.createElement(C,{value:"0"},"0"),f.a.createElement(C,{value:"1"},"1"),f.a.createElement(C,{value:"2"},"2"),f.a.createElement(C,{value:"3"},"3")))),f.a.createElement(o.a,{span:3,style:{marginTop:"3px"}},f.a.createElement(r.a,{type:"primary",onClick:this.handleSearch},f.a.createElement(l.a,{type:"search"})," \u641c\u7d22"))))}}]),t}(b.Component))||n)||n;t.a=g.a.create()(v)},1511:function(e,t,a){"use strict";a(1476);var n,r=a(1477),l=(a(643),a(419)),i=(a(1481),a(1480)),o=a(66),s=a(1497),c=a(1496),u=a(67),d=a(1498),m=(a(1469),a(1470)),p=a(0),h=a.n(p),g=a(417),b=a(1503),f=a(1500),y=(a(1499),a(238)),E=(m.a.Item,Object(g.b)("SceneManagerStore","TestCaseManagerStore")(n=Object(g.c)(n=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(c.a)(t).call(this,e))).onChangePage=function(e){a.props.TestCaseManagerStore.initData(e)},a.state={selectedRowKeys:[],selectedRows:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.TestCaseManagerStore.initData(1)}}]),Object(u.a)(t,[{key:"okModal",value:function(){this.state.selectedRowKeys.length<=0?y.message.warn("\u8bf7\u5148\u52fe\u9009\u9700\u8981\u8ffd\u52a0\u7684\u7528\u4f8b"):(console.log(this.state.selectedRowKeys),console.log(this.state.selectedRows),this.props.SceneManagerStore.insertCase(this.state.selectedRows))}},{key:"hideModal",value:function(){this.props.SceneManagerStore.hideInsertCaseModal("insert")}},{key:"render",value:function(){var e=this,t=this.props.TestCaseManagerStore,a=t.dataSource,n=t.pageNo,o=t.pageSize,s=t.totalCount,c=this.props.insertCaseModalVisible,u=a.toJS(),d={onChange:function(t,a){console.log("selectedRowKeys: ".concat(t),"selectedRows: ",a),e.setState({selectedRowKeys:t,selectedRows:a})}};return h.a.createElement(r.a,{destroyOnClose:!0,title:"\u8ffd\u52a0\u7528\u4f8b",width:"1100px",visible:c,onOk:this.okModal.bind(this),onCancel:this.hideModal.bind(this),okText:"\u6dfb\u52a0",cancelText:"\u53d6\u6d88",className:"model",style:{marginTop:"28px"}},h.a.createElement(b.a,null),h.a.createElement(i.a,{rowSelection:d,bordered:!0,columns:Object(f.a)(this),pagination:!1,dataSource:u,size:"middle",rowKey:"id"}),h.a.createElement(l.a,{onChange:this.onChangePage,pageSize:o,current:n,total:s,style:{marginTop:"6px",float:"right"}}))}}]),t}(p.Component))||n)||n);t.a=m.a.create()(E)},1512:function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(158),r=a(422),l=a(66),i=a(67),o=a(1497),s=a(1496),c=a(1498),u=a(1537),d=a(1538),m=a(0),p=a.n(m);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var g=-1,b=function(e){function t(){return Object(l.a)(this,t),Object(o.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isOver,a=e.connectDragSource,l=e.connectDropTarget,i=(e.moveRow,Object(r.a)(e,["isOver","connectDragSource","connectDropTarget","moveRow"])),o=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},i.style,{cursor:"move"}),s=i.className;return t&&(i.index>g&&(s+=" drop-over-downward"),i.index<g&&(s+=" drop-over-upward")),a(l(p.a.createElement("tr",Object.assign({},i,{className:s,style:o}))))}}]),t}(p.a.Component),f={beginDrag:function(e){return g=e.index,{index:e.index}}},y=Object(u.a)("row",{drop:function(e,t){var a=t.getItem().index,n=e.index;a!==n&&(e.moveRow(a,n),t.getItem().index=n)}},(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(d.a)("row",f,(function(e){return{connectDragSource:e.dragSource()}}))(b))},1535:function(e,t,a){"use strict";a.r(t);a(1481);var n,r=a(1480),l=(a(639),a(418)),i=(a(1467),a(13)),o=a(158),s=(a(237),a(70)),c=(a(1471),a(1472)),u=(a(1474),a(1475)),d=(a(638),a(1468)),m=a(66),p=a(1497),h=a(1496),g=a(67),b=a(1498),f=(a(640),a(195)),y=(a(1469),a(1470)),E=a(0),C=a.n(E),v=a(417),S=a(1534),w=a(1518),O=a(1513),k=a.n(O),I=a(1511),j=a(1500),x=a(1512),M=y.a.Item,D=f.a.Option,N=Object(v.b)("SceneManagerStore","TestCaseManagerStore")(n=Object(v.c)(n=function(e){function t(e){var a;return Object(m.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).components={body:{row:x.a}},a.moveRow=function(e,t){var n=a.props.SceneManagerStore.caseDataSource.toJS(),r=n[e],l=k()(n,{$splice:[[e,1],[t,0,r]]});a.props.SceneManagerStore.orderCase(l)},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFieldsAndScroll((function(e,t){e||a.props.SceneManagerStore.updateScene()}))},a.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},a.exeCase=function(e){a.props.TestCaseManagerStore.exeCase(e,"scene")},a.state={data:[]},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u573a\u666f\u7ba1\u7406"},{name:"\u4fee\u6539\u573a\u666f"}]),this.props.SceneManagerStore.getDetailData()}}]),Object(g.a)(t,[{key:"inputChange",value:function(e,t){this.props.SceneManagerStore.changeDetailData(e,t.target.value)}},{key:"optionChange",value:function(e,t,a){this.props.SceneManagerStore.changeDetailData(e,t.toString()||"")}},{key:"showInsertCaseModal",value:function(){this.props.SceneManagerStore.showInsertCaseModal()}},{key:"deleteSceneCase",value:function(e){this.props.SceneManagerStore.deleteSceneCase(e)}},{key:"render",value:function(){var e=this,t=this.props.SceneManagerStore,a=t.insertCaseModalVisible,n=t.caseDataSource,m=t.detailData,p=this.props.form.getFieldDecorator;return C.a.createElement("div",{style:{width:"96%",marginLeft:"25px"}},C.a.createElement(y.a,{className:"ant-advanced-search-form p-xs pb-0",onSubmit:this.handleSubmit},C.a.createElement(c.a,{gutter:48},C.a.createElement(u.a,{span:9},C.a.createElement(M,Object.assign({},this.formItemLayout,{label:"\u573a\u666f\u540d"}),p("name",{initialValue:m.name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u573a\u666f\u540d!"}]})(C.a.createElement(d.a,{placeholder:"\u8bf7\u8f93\u5165\u573a\u666f\u540d",style:{width:280},onChange:this.inputChange.bind(this,"name")})))),C.a.createElement(u.a,{span:7},C.a.createElement(M,Object.assign({},this.formItemLayout,{label:"\u73af\u5883"}),p("env",{initialValue:m.env,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883!"}]})(C.a.createElement(d.a,{placeholder:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883",style:{width:200},onChange:this.inputChange.bind(this,"env")})))),C.a.createElement(u.a,{span:8},C.a.createElement(M,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u65b9\u5f0f"}),p("scheduleType",{initialValue:"0"==m.scheduleType?"\u987a\u5e8f\u6267\u884c":"\u5e76\u884c\u6267\u884c",rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6267\u884c\u65b9\u5f0f!"}]})(C.a.createElement(f.a,{style:{width:140},onChange:this.optionChange.bind(this,"scheduleType")},C.a.createElement(D,{value:"0"},"\u987a\u5e8f\u6267\u884c"),C.a.createElement(D,{value:"1"},"\u5e76\u884c\u6267\u884c")))))),C.a.createElement(c.a,null,C.a.createElement(u.a,{span:9},C.a.createElement(M,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u8ba1\u5212"}),p("cron",{initialValue:m.cron,rules:[{required:!1,message:"\u8bf7\u8f93\u5165\u6267\u884c\u8ba1\u5212!"}]})(C.a.createElement(d.a,{placeholder:"cron\u8868\u8fbe\u5f0f\uff0c\u5982\uff1a1-2 * * * * ?",style:{width:273},onChange:this.inputChange.bind(this,"cron")})))),C.a.createElement(u.a,{span:9},C.a.createElement(M,Object.assign({},this.formItemLayout,{label:"\u9489\u9489webhook"}),p("alarmDingUrls",{initialValue:m.alarmDingUrls,rules:[{required:!1,message:"\u9489\u9489webhook!"}]})(C.a.createElement(d.a,{placeholder:"\u9489\u9489\u673a\u5668\u4ebawebhook\uff0c\u5982\uff1ahttps://oapi.dingtalk.com/robot/send?access_token=17c1994369e0842647978a405713cb6e257fdf6c53df80bc6526afcf3866ba84",style:{width:500},onChange:this.inputChange.bind(this,"alarmDingUrls")}))))),C.a.createElement(c.a,null,C.a.createElement(u.a,{span:15},C.a.createElement(s.a,{type:"primary",onClick:this.showInsertCaseModal.bind(this)},"\u8ffd\u52a0\u7528\u4f8b"),"\xa0\xa0\xa0\xa0\xa0 \xa0 \xa0 \xa0 \xa0",C.a.createElement(I.a,{updateCaseDataSource:m.testCaseSchedules,insertCaseModalVisible:a}),C.a.createElement(s.a,{type:"primary",htmlType:"submit"},"\u4fdd\u5b58\u6b64\u573a\u666f\u6570\u636e")," \xa0 \xa0 \xa0 \xa0 \xa0",C.a.createElement(s.a,Object(o.a)({type:"primary",onClick:this.exeCase},"onClick",(function(){return e.exeCase(m)})),"\u6267\u884c\u573a\u666f"),"\xa0 \xa0 \xa0 \xa0 \xa0",C.a.createElement(l.a,{color:"purple",style:{marginBottom:"8px"}},"  ",C.a.createElement(i.a,{type:"smile"})," \u4e0a\u4e0b\u62d6\u62fd\u53ef\u4ee5\u79fb\u52a8\u8868\u683c\u4e2d\u7528\u4f8b\u987a\u5e8f\u54e6\uff5e  "))),C.a.createElement(c.a,{gutter:48},C.a.createElement(S.a,{backend:w.a},C.a.createElement(r.a,{bordered:!0,pagination:!1,columns:Object(j.c)(this),scroll:{x:1500,y:600},dataSource:n.toJS(),components:this.components,onRow:function(t,a){return{index:a,moveRow:e.moveRow}}})))))}}]),t}(E.Component))||n)||n;t.default=y.a.create()(N)}}]);
//# sourceMappingURL=8.4495e560.chunk.js.map