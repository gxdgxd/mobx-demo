(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[15],{1488:function(e,t,a){},1527:function(e,t,a){"use strict";a.r(t);a(640);var n,r,l=a(417),o=(a(1474),a(1472)),c=(a(235),a(69)),s=(a(1466),a(14)),i=(a(1465),a(1467)),m=(a(636),a(1463)),d=(a(1469),a(1470)),u=a(65),p=a(1486),h=a(1485),E=a(66),b=a(1487),f=(a(1483),a(1482)),C=(a(1462),a(1464)),g=(a(637),a(193)),y=a(0),x=a.n(y),v=a(7),S=a(415),I=a(25),k=a.n(I),O=(a(641),a(159)),j=(a(639),a(1477)),w=(a(638),a(416)),D=(a(1488),m.a,a(236)),R=(a(1471),a(1473)),N=(a(1478),a(1479)),T=Object(S.b)("ExeRecordStore")(n=Object(S.c)(n=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).state={},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"hideModal",value:function(){this.props.ExeRecordStore.hideModal()}},{key:"render",value:function(){var e=this.props,t=e.modalVisible,a=e.detailData,n=Object(v.o)(a.caseExeRecords),r="";0==a.status?r=x.a.createElement(w.a,{color:"#f50"},"\u5f85\u6267\u884c"):1==a.status?r=x.a.createElement(w.a,{color:"#2db7f5"},"\u6267\u884c\u4e2d"):2==a.status&&(r=x.a.createElement(w.a,{color:"#87d068"},"\u5df2\u5b8c\u6210"));var l={marginBottom:"8px"};return x.a.createElement("div",{className:"container-bg"},x.a.createElement(R.a,Object(D.a)({destroyOnClose:!0,title:"\u6267\u884c\u8be6\u60c5",width:"800px",visible:t,onOk:this.hideModal.bind(this),onCancel:this.hideModal.bind(this),cancelText:"\u53d6\u6d88",className:"model"},"width","1100px"),x.a.createElement(N.a,{message:"\u6267\u884c\u60c5\u51b5",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),x.a.createElement(i.a,{gutter:48,style:l},x.a.createElement(d.a,{span:4},"\xa0\u6267\u884c\u7ed3\u679c\uff1a",r),x.a.createElement(d.a,{span:6},"\u6267\u884c\u65f6\u95f4\uff1a",a.exeTimeStr),x.a.createElement(d.a,{span:7},"\u6267\u884c\u73af\u5883\uff1a",a.env),x.a.createElement(d.a,{span:4},"\u64cd\u4f5c\u4eba\uff1a",a.operatorName)),x.a.createElement(i.a,{gutter:48,style:l},x.a.createElement(d.a,{span:4},"\xa0\u603b\u7528\u4f8b\u6570\uff1a",a.testCaseCount),x.a.createElement(d.a,{span:6},"\u6210\u529f\u6570\uff1a",a.succeedCount),x.a.createElement(d.a,{span:5},"\u5931\u8d25\u6570\uff1a",a.failedCount)),x.a.createElement(N.a,{message:"\u7528\u4f8b\u4fe1\u606f",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),x.a.createElement(o.a,{bordered:!0,columns:[{title:"\u7528\u4f8b\u540d\u79f0",dataIndex:"name",key:"name",width:"20%",render:function(e,t){var a=t.testCase,n=a.name.length>16?a.name.substr(0,16)+"...":a.name,r=x.a.createElement("div",null,x.a.createElement("span",null,"\u7528\u4f8bID\uff1a",a.id),x.a.createElement("br",null),x.a.createElement("span",null,"\u7528\u4f8b\u540d\u79f0\uff1a",a.name),x.a.createElement("br",null),x.a.createElement("span",null,"\u6821\u9a8c\u89c4\u5219\uff1a",a.validScript),x.a.createElement("br",null),x.a.createElement("span",null,"\u5165\u53c2\uff1a",a.paramScript),x.a.createElement("br",null),x.a.createElement("span",null,"\u5176\u4ed6\u53c2\u6570\uff1a",a.contextParamScript),x.a.createElement("br",null),x.a.createElement("span",null,"\u63cf\u8ff0\uff1a",a.desc),x.a.createElement("br",null),x.a.createElement("span",null,"\u63a5\u53e3ID\uff1a",a.apiId),x.a.createElement("br",null),x.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",a.testApi.apiClassName),x.a.createElement("br",null),x.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",a.testApi.apiMethodName),x.a.createElement("br",null),x.a.createElement("span",null,"\u63a5\u53e3\u540d\uff1a",a.testApi.name),x.a.createElement("br",null));return x.a.createElement("span",null,x.a.createElement(j.a,{content:r},x.a.createElement("font",{color:"#d2a216"},n)))}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:"7%",render:function(e,t){var a=t.testCase.priority;return x.a.createElement("span",null,a)}},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:"12%",render:function(e,t){var a=t.testCase.creatorName;return x.a.createElement("span",null,a)}},{title:"\u63a5\u53e3\u540d",dataIndex:"a",key:"a",width:"20%",render:function(e,t){var a=t.testCase.testApi.name;return x.a.createElement("span",null,a)}},{title:"\u72b6\u6001",dataIndex:"succeed",key:"succeed",width:"12%",render:function(e){var t="";return 1==e?(t="\u6267\u884c\u6210\u529f",x.a.createElement("span",null,x.a.createElement(w.a,{color:"#87d068"},t))):0==e?(t="\u6267\u884c\u5931\u8d25",x.a.createElement("span",null,x.a.createElement(w.a,{color:"#f50"},t))):void 0}},{title:"\u4fe1\u606f",dataIndex:"message",key:"message",width:"6%",render:function(e,t){return x.a.createElement("span",null,x.a.createElement(O.a,{title:t.message},x.a.createElement(s.a,{type:"message"})))}},{title:"\u64cd\u4f5c",width:"15%",key:"operation",render:function(e,t){var a="/update_api?apiId="+t.testCase.apiId,n="/edit_testcase?apiId="+t.testCase.apiId+"&caseId="+t.testCase.id;return x.a.createElement("span",null,x.a.createElement("a",{href:n,target:"_blank"},"\u67e5\u770b\u7528\u4f8b"),"\xa0",x.a.createElement("a",{href:a,target:"_blank",className:"vLine"}," \u67e5\u770b\u63a5\u53e3"),"\xa0")}}],dataSource:n})))}}]),t}(y.Component))||n)||n,M=g.a.Option,_=C.a.Item,A=f.a.RangePicker,L=Object(S.b)("ExeRecordStore","CommonStore")(r=Object(S.c)(r=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(h.a)(t).call(this,e))).onChangePage=function(e){a.props.ExeRecordStore.initData(e)},a.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},a.handleSearch=function(){a.props.ExeRecordStore.initData(1)},a.handleCreatorSearch=function(e){e?a.props.CommonStore.getAllCreators(e):a.setState({data:[]})},a.handleCreatorChange=function(e){a.setState({value:e}),a.props.ExeRecordStore.changeTableRequestData("operatorId",e)},a.state={json_str:{}},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u6267\u884c\u8bb0\u5f55"}]),this.props.ExeRecordStore.initData(1)}}]),Object(E.a)(t,[{key:"inputChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t.target.value)}},{key:"optionChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t||"")}},{key:"showModal",value:function(e){this.props.ExeRecordStore.getDetailData(e)}},{key:"onDateChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData("exeTimeBefore",t[0]),this.props.ExeRecordStore.changeTableRequestData("finishTimeAfter",t[1])}},{key:"render",value:function(){var e,t=this.props.ExeRecordStore,a=t.dataSource,n=t.modalVisible,r=t.pageNo,u=t.pageSize,p=t.totalCount,h=t.detailData,E=this.props.CommonStore.allCreators,b=a.toJS();return x.a.createElement("div",{className:"container-bg"},x.a.createElement(C.a,{className:"ant-advanced-search-form p-xs pb-0"},x.a.createElement(i.a,{gutter:48},x.a.createElement(d.a,{span:8},x.a.createElement(_,Object.assign({},this.formItemLayout,{label:"\u65f6\u95f4"}),x.a.createElement(A,{ranges:{Today:[k()(),k()()],"This Month":[k()().startOf("month"),k()().endOf("month")]},onChange:this.onDateChange}))),x.a.createElement(d.a,{span:7},x.a.createElement(_,Object.assign({},this.formItemLayout,{label:"\u573a\u666fID"}),x.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u5165\u573a\u666fID",allowClear:!0,onChange:this.inputChange.bind(this,"testSceneId")}))),x.a.createElement(d.a,{span:7},x.a.createElement(_,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u73af\u5883"}),x.a.createElement(m.a,{placeholder:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883",allowClear:!0,onChange:this.inputChange.bind(this,"env")})))),x.a.createElement(i.a,{gutter:48},x.a.createElement(d.a,{span:8},x.a.createElement(_,Object.assign({},this.formItemLayout,{label:"\u64cd\u4f5c\u4eba"}),x.a.createElement(g.a,{showSearch:!0,value:this.state.value,placeholder:"\u8bf7\u8f93\u5165\u771f\u540d\u641c\u7d22(\u975e\u82b1\u540d)",style:this.props.style,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,allowClear:!0,onSearch:this.handleCreatorSearch,onChange:this.handleCreatorChange,notFoundContent:null},E.map((function(e){return x.a.createElement(M,{key:e.userId},e.realName)}))))),x.a.createElement(d.a,{span:7},x.a.createElement(_,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u72b6\u6001"}),x.a.createElement(g.a,{placeholder:"\u8bf7\u9009\u62e9\u6267\u884c\u72b6\u6001",allowClear:!0,onChange:this.optionChange.bind(this,"status")},x.a.createElement(M,{value:"0"},"\u5f85\u6267\u884c"),x.a.createElement(M,{value:"1"},"\u6267\u884c\u4e2d"),x.a.createElement(M,{value:"2"},"\u5df2\u5b8c\u6210")))),x.a.createElement(d.a,{span:3},x.a.createElement(c.a,{type:"primary",htmlType:"submit",onClick:this.handleSearch},x.a.createElement(s.a,{type:"search"})," \u641c\u7d22")))),x.a.createElement(i.a,{style:{marginTop:"8px"}},x.a.createElement(o.a,{bordered:!0,columns:(e=this,[{title:"\u573a\u666fID",dataIndex:"testSceneId",key:"testSceneId"},{title:"\u573a\u666f\u540d\u79f0",dataIndex:"testSceneName",key:"testSceneName"},{title:"\u6267\u884c\u65f6\u95f4",dataIndex:"exeTimeStr",key:"exeTimeStr"},{title:"\u73af\u5883",dataIndex:"env",key:"env"},{title:"\u603b\u7528\u4f8b\u6570",dataIndex:"testCaseCount",key:"testCaseCount"},{title:"\u6210\u529f\u6570",dataIndex:"succeedCount",key:"succeedCount"},{title:"\u5931\u8d25\u6570",dataIndex:"failedCount",key:"failedCount",render:function(e){return x.a.createElement("font",{color:e>0?"red":"#696969"},e)}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operatorName",key:"operatorName"},{title:"\u6267\u884c\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){var t="";return"0"==e?(t="\u5f85\u6267\u884c",x.a.createElement("span",null,x.a.createElement(w.a,{color:"#f50"},t))):"1"==e?(t="\u6267\u884c\u4e2d",x.a.createElement("span",null,x.a.createElement(w.a,{color:"#2db7f5"},t))):"2"==e?(t="\u5df2\u5b8c\u6210",x.a.createElement("span",null,x.a.createElement(w.a,{color:"#87d068"},t))):void 0}},{title:"\u64cd\u4f5c",width:"10%",key:"operation",render:function(t,a){return x.a.createElement("div",null,x.a.createElement("span",null,x.a.createElement("a",{onClick:e.showModal.bind(e,a.id)},"\u8be6\u60c5")," \xa0"))}}]),pagination:!1,dataSource:b}),x.a.createElement(l.a,{onChange:this.onChangePage,pageSize:u,current:r,total:p,style:{marginTop:"6px",float:"right"}}),x.a.createElement(T,{modalVisible:n,detailData:h})))}}]),t}(y.Component))||r)||r;t.default=L}}]);
//# sourceMappingURL=15.419a9830.chunk.js.map