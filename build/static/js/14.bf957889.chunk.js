(this.webpackJsonpapi_automation_static=this.webpackJsonpapi_automation_static||[]).push([[14],{1497:function(e,t,a){},1514:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return columns})),__webpack_require__.d(__webpack_exports__,"b",(function(){return detailColumns}));var antd_es_icon_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1466),antd_es_icon__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),antd_es_popover_style__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(640),antd_es_popover__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1480),antd_es_tag_style__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(638),antd_es_tag__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(417),antd_es_input_style__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(637),antd_es_input__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(1465),react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__),_style_common_css__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1497),_style_common_css__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(_style_common_css__WEBPACK_IMPORTED_MODULE_9__),react_json_view__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1505),react_json_view__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_json_view__WEBPACK_IMPORTED_MODULE_10__),TextArea=antd_es_input__WEBPACK_IMPORTED_MODULE_7__.a,columns=function(e){return[{title:"\u573a\u666fID",dataIndex:"testSceneId",key:"testSceneId"},{title:"\u573a\u666f\u540d\u79f0",dataIndex:"testSceneName",key:"testSceneName"},{title:"\u6267\u884c\u65f6\u95f4",dataIndex:"exeTimeStr",key:"exeTimeStr"},{title:"\u73af\u5883",dataIndex:"env",key:"env"},{title:"\u603b\u7528\u4f8b\u6570",dataIndex:"testCaseCount",key:"testCaseCount"},{title:"\u6210\u529f\u6570",dataIndex:"succeedCount",key:"succeedCount"},{title:"\u5931\u8d25\u6570",dataIndex:"failedCount",key:"failedCount",render:function(e){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("font",{color:e>0?"red":"#696969"},e)}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operatorName",key:"operatorName"},{title:"\u6267\u884c\u72b6\u6001",dataIndex:"status",key:"status",render:function(e){var t="";return"0"==e?(t="\u5f85\u6267\u884c",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_5__.a,{color:"#f50"},t))):"1"==e?(t="\u6267\u884c\u4e2d",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_5__.a,{color:"#2db7f5"},t))):"2"==e?(t="\u5df2\u5b8c\u6210",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_5__.a,{color:"#87d068"},t))):void 0}},{title:"\u64cd\u4f5c",width:"10%",key:"operation",render:function(t,a){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("a",{onClick:e.showModal.bind(e,a.id)},"\u8be6\u60c5")," \xa0"))}}]},detailColumns=function detailColumns(context){return[{title:"\u7528\u4f8bID",dataIndex:"caseId",key:"caseId",width:80,fixed:"left",render:function(e,t){var a=t.testCase;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,a.id)}},{title:"\u7528\u4f8b\u540d\u79f0",dataIndex:"name",key:"name",width:350,render:function(e,t){var a=t.testCase;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,a.name)}},{title:"\u63a5\u53e3\u8def\u5f84",dataIndex:"apiClassName",key:"apiClassName",width:330,render:function(e,t){var a=t.testCase,_=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,"\u63a5\u53e3\u540d\uff1a",a.testApi.name),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,"\u63a5\u53e3\u8def\u5f84\uff1a",a.testApi.apiClassName),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,"\u65b9\u6cd5\u540d\uff1a",a.testApi.apiMethodName),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,"\u53c2\u6570\u7c7b\u578b\uff1a",a.testApi.argsTypeNames),react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("br",null));return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_popover__WEBPACK_IMPORTED_MODULE_3__.a,{content:_},a.testApi.apiClassName))}},{title:"\u65b9\u6cd5\u540d",dataIndex:"apiMethodName",key:"apiMethodName",width:170,render:function(e,t){var a=t.testCase;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,a.testApi.apiMethodName)}},{title:"\u4f18\u5148\u7ea7",dataIndex:"priority",key:"priority",width:80,render:function(e,t){var a=t.testCase.priority;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,a)}},{title:"\u521b\u5efa\u4eba",dataIndex:"creatorName",key:"creatorName",width:150,render:function(e,t){var a=t.testCase.creatorName;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,a)}},{title:"\u63a5\u53e3\u8fd4\u56de\u7ed3\u679c",dataIndex:"sampleResult",key:"sampleResult",width:140,render:function render(text,record){var a=react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(react_json_view__WEBPACK_IMPORTED_MODULE_10___default.a,{src:"undefined"==typeof record?"":eval("("+record.sampleResult+")"),name:null,style:{border:"1px solid #ccc",height:"173px",marginBottom:"5px",maxHeight:"173px","overflow-y":"auto"}});return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_popover__WEBPACK_IMPORTED_MODULE_3__.a,{content:a},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("font",{color:"#d2a216"},"(\u9f20\u6807\u79fb\u5165\u663e\u793a)"))}},{title:"\u6267\u884c\u7ed3\u679c",dataIndex:"succeed",key:"succeed",width:120,render:function(e){var t="";return 1==e?(t="\u6267\u884c\u6210\u529f",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_5__.a,{color:"#87d068"},t))):0==e?(t="\u6267\u884c\u5931\u8d25",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_tag__WEBPACK_IMPORTED_MODULE_5__.a,{color:"#f50"},t))):void 0}},{title:"\u4fe1\u606f",dataIndex:"message",key:"message",width:80,render:function(e,t){return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("a",{onClick:context.showResultMessageModal.bind(context,t.message)},react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement(antd_es_icon__WEBPACK_IMPORTED_MODULE_1__.a,{type:"message"}))," \xa0")}},{title:"\u64cd\u4f5c",width:180,key:"operation",fixed:"right",render:function(e,t){var a="/update_api?apiId="+t.testCase.apiId,_="/edit_testcase?apiId="+t.testCase.apiId+"&caseId="+t.testCase.id;return react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("a",{href:_,target:"_blank"},"\u67e5\u770b\u7528\u4f8b"),"\xa0",react__WEBPACK_IMPORTED_MODULE_8___default.a.createElement("a",{href:a,target:"_blank",className:"vLine"}," \u67e5\u770b\u63a5\u53e3"),"\xa0")}}]}},1538:function(e,t,a){"use strict";a.r(t);a(641);var _,n,r,l=a(418),c=(a(1479),a(1478)),o=(a(236),a(70)),s=(a(1466),a(13)),i=(a(1469),a(1470)),E=(a(637),a(1465)),d=(a(1472),a(1473)),u=a(65),m=a(1495),p=a(1494),O=a(66),M=a(1496),D=(a(1492),a(1490)),h=(a(1467),a(1468)),C=(a(639),a(194)),P=a(0),f=a.n(P),b=a(3),I=a(416),R=a(25),T=a.n(R),g=a(1514),A=a(237),x=(a(1474),a(1475)),L=(a(1481),a(1482)),B=(a(638),a(417)),y=Object(I.b)("ExeRecordStore")(_=Object(I.c)(_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(M.a)(t,e),Object(O.a)(t,[{key:"hideModal",value:function(){this.props.ExeRecordStore.hideResultMessageModal()}},{key:"render",value:function(){var e=this.props,t=e.resultMessageModalVisible,a=e.message;return f.a.createElement("div",{className:"container-bg"},f.a.createElement(x.a,Object(A.a)({destroyOnClose:!0,title:"\u7ed3\u679c\u4fe1\u606f",okText:"\u5173\u95ed",width:"800px",visible:t,onOk:this.hideModal.bind(this),onCancel:this.hideModal.bind(this),cancelText:"\u53d6\u6d88",className:"model"},"width","1100px"),f.a.createElement("pre",null,a)))}}]),t}(P.Component))||_)||_,k=Object(I.b)("ExeRecordStore")(n=Object(I.c)(n=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).state={},a}return Object(M.a)(t,e),Object(O.a)(t,[{key:"hideModal",value:function(){this.props.ExeRecordStore.hideModal()}},{key:"showResultMessageModal",value:function(e){this.props.ExeRecordStore.showResultMessageModal(e)}},{key:"render",value:function(){var e=this.props.ExeRecordStore,t=e.resultMessageModalVisible,a=e.message,_=this.props,n=_.modalVisible,r=_.detailData,l=Object(b.o)(r.caseExeRecords),o="";0==r.status?o=f.a.createElement(B.a,{color:"#f50"},"\u5f85\u6267\u884c"):1==r.status?o=f.a.createElement(B.a,{color:"#2db7f5"},"\u6267\u884c\u4e2d"):2==r.status&&(o=f.a.createElement(B.a,{color:"#87d068"},"\u5df2\u5b8c\u6210"));var s={marginBottom:"8px"};return f.a.createElement("div",{className:"container-bg"},f.a.createElement(x.a,Object(A.a)({destroyOnClose:!0,title:"\u6267\u884c\u8be6\u60c5",width:"800px",okText:"\u5173\u95ed",visible:n,onOk:this.hideModal.bind(this),onCancel:this.hideModal.bind(this),cancelText:"\u53d6\u6d88",className:"model"},"width","1100px"),f.a.createElement(L.a,{message:"\u6267\u884c\u60c5\u51b5",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),f.a.createElement(i.a,{gutter:48,style:s},f.a.createElement(d.a,{span:4},"\xa0\u4efb\u52a1\u72b6\u6001\uff1a",o),f.a.createElement(d.a,{span:6},"\u6267\u884c\u65f6\u95f4\uff1a",r.exeTimeStr),f.a.createElement(d.a,{span:7},"\u6267\u884c\u73af\u5883\uff1a",r.env),f.a.createElement(d.a,{span:4},"\u64cd\u4f5c\u4eba\uff1a",r.operatorName)),f.a.createElement(i.a,{gutter:48,style:s},f.a.createElement(d.a,{span:4},"\xa0\u603b\u7528\u4f8b\u6570\uff1a",r.testCaseCount),f.a.createElement(d.a,{span:6},"\u6210\u529f\u6570\uff1a",r.succeedCount),f.a.createElement(d.a,{span:5},"\u5931\u8d25\u6570\uff1a",r.failedCount)),f.a.createElement(L.a,{message:"\u7528\u4f8b\u4fe1\u606f",type:"info",style:{backgroundColor:"#c7e7ff",border:"0px",marginBottom:"10px"}}),f.a.createElement(c.a,{bordered:!0,columns:Object(g.b)(this),dataSource:l,scroll:{x:1730,y:600}}),f.a.createElement(y,{resultMessageModalVisible:t,message:a})))}}]),t}(P.Component))||n)||n,K=C.a.Option,U=h.a.Item,W=D.a.RangePicker,v=Object(I.b)("ExeRecordStore","CommonStore")(r=Object(I.c)(r=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).onChangePage=function(e){a.props.ExeRecordStore.initData(e)},a.formItemLayout={labelCol:{span:5},wrapperCol:{span:19}},a.handleSearch=function(){a.props.ExeRecordStore.initData(1)},a.handleCreatorSearch=function(e){e?a.props.CommonStore.getAllCreators(e):a.setState({data:[]})},a.handleCreatorChange=function(e){a.setState({value:e}),a.props.ExeRecordStore.changeTableRequestData("operatorId",e)},a.state={json_str:{}},a}return Object(M.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){this.props.setBreadcrumb([{name:"\u6267\u884c\u8bb0\u5f55"}]),this.props.ExeRecordStore.initData(1)}}]),Object(O.a)(t,[{key:"inputChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t.target.value)}},{key:"optionChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData(e,t||"")}},{key:"showModal",value:function(e){this.props.ExeRecordStore.getDetailData(e)}},{key:"onDateChange",value:function(e,t){this.props.ExeRecordStore.changeTableRequestData("exeTimeBefore",t[0]),this.props.ExeRecordStore.changeTableRequestData("finishTimeAfter",t[1])}},{key:"render",value:function(){var e=this.props.ExeRecordStore,t=e.dataSource,a=e.modalVisible,_=e.pageNo,n=e.pageSize,r=e.totalCount,u=e.exeDetailData,m=this.props.CommonStore.allCreators,p=t.toJS();return f.a.createElement("div",{className:"container-bg"},f.a.createElement(h.a,{className:"ant-advanced-search-form p-xs pb-0"},f.a.createElement(i.a,{gutter:48},f.a.createElement(d.a,{span:8},f.a.createElement(U,Object.assign({},this.formItemLayout,{label:"\u65f6\u95f4"}),f.a.createElement(W,{ranges:{Today:[T()(),T()()],"This Month":[T()().startOf("month"),T()().endOf("month")]},onChange:this.onDateChange}))),f.a.createElement(d.a,{span:7},f.a.createElement(U,Object.assign({},this.formItemLayout,{label:"\u573a\u666fID"}),f.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u573a\u666fID",allowClear:!0,onChange:this.inputChange.bind(this,"testSceneId")}))),f.a.createElement(d.a,{span:7},f.a.createElement(U,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u73af\u5883"}),f.a.createElement(E.a,{placeholder:"\u8bf7\u8f93\u5165\u6267\u884c\u73af\u5883",allowClear:!0,onChange:this.inputChange.bind(this,"env")})))),f.a.createElement(i.a,{gutter:48},f.a.createElement(d.a,{span:8},f.a.createElement(U,Object.assign({},this.formItemLayout,{label:"\u64cd\u4f5c\u4eba"}),f.a.createElement(C.a,{showSearch:!0,value:this.state.value,placeholder:"\u8bf7\u8f93\u5165\u771f\u540d\u641c\u7d22(\u975e\u82b1\u540d)",style:this.props.style,defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,allowClear:!0,onSearch:this.handleCreatorSearch,onChange:this.handleCreatorChange,notFoundContent:null},m.map((function(e){return f.a.createElement(K,{key:e.userId},e.realName)}))))),f.a.createElement(d.a,{span:7},f.a.createElement(U,Object.assign({},this.formItemLayout,{label:"\u6267\u884c\u72b6\u6001"}),f.a.createElement(C.a,{placeholder:"\u8bf7\u9009\u62e9\u6267\u884c\u72b6\u6001",allowClear:!0,onChange:this.optionChange.bind(this,"status")},f.a.createElement(K,{value:"0"},"\u5f85\u6267\u884c"),f.a.createElement(K,{value:"1"},"\u6267\u884c\u4e2d"),f.a.createElement(K,{value:"2"},"\u5df2\u5b8c\u6210")))),f.a.createElement(d.a,{span:3},f.a.createElement(o.a,{type:"primary",htmlType:"submit",onClick:this.handleSearch},f.a.createElement(s.a,{type:"search"})," \u641c\u7d22")))),f.a.createElement(i.a,{style:{marginTop:"8px"}},f.a.createElement(c.a,{bordered:!0,columns:Object(g.a)(this),pagination:!1,dataSource:p}),f.a.createElement(l.a,{onChange:this.onChangePage,pageSize:n,current:_,total:r,style:{marginTop:"6px",float:"right"}}),f.a.createElement(k,{modalVisible:a,detailData:u})))}}]),t}(P.Component))||r)||r;t.default=v}}]);
//# sourceMappingURL=14.bf957889.chunk.js.map